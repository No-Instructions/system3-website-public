import{s as se,d as u,i as L,b as o,C as le,p as n,c as v,e as C,f as W,g as V,h as m,t as Y,j as S,n as B,a2 as te,_ as Z,q as F,Z as K,k as ie,Y as oe,T as ae}from"../chunks/scheduler.D_DiFEDa.js";import{e as N}from"../chunks/each.8prNeyls.js";import{S as re,i as ne}from"../chunks/index.uqldPLAT.js";import{w as ce}from"../chunks/index.BUY9SMGD.js";function Q(i,e,a){const l=i.slice();return l[8]=e[a],l[10]=a,l}function X(i,e,a){const l=i.slice();return l[8]=e[a],l[11]=e,l[10]=a,l}function $(i){let e,a,l=i[8].title+"",p,k,g,z=i[8].description+"",_,x,E=i[10],d,r;const P=()=>i[5](e,E),R=()=>i[5](null,E);function D(){return i[6](i[10])}return{c(){e=m("div"),a=m("h3"),p=Y(l),k=S(),g=m("p"),_=Y(z),x=S(),this.h()},l(h){e=v(h,"DIV",{class:!0});var b=C(e);a=v(b,"H3",{class:!0});var M=C(a);p=W(M,l),M.forEach(u),k=V(b),g=v(b,"P",{class:!0});var I=C(g);_=W(I,z),I.forEach(u),x=V(b),b.forEach(u),this.h()},h(){n(a,"class","text-xl font-semibold"),n(g,"class","mt-2 text-muted-foreground"),n(e,"class","relative w-full cursor-pointer rounded-lg p-6")},m(h,b){L(h,e,b),o(e,a),o(a,p),o(e,k),o(e,g),o(g,_),o(e,x),P(),d||(r=le(e,"mouseenter",D),d=!0)},p(h,b){i=h,E!==i[10]&&(R(),E=i[10],P())},d(h){h&&u(e),R(),d=!1,r()}}}function de(i){let e,a;return{c(){e=m("source"),this.h()},l(l){e=v(l,"SOURCE",{src:!0,type:!0}),this.h()},h(){te(e.src,a=i[8].video.mp4)||n(e,"src",a),n(e,"type","video/mp4")},m(l,p){L(l,e,p)},p:B,d(l){l&&u(e)}}}function ee(i){let e,a,l,p,k,g,z,_,x=i[8].caption.text+"",E,d,r,P=i[8].caption.linkText+"",R,D,h,b="↗",M,I=i[8].caption.suffix+"",q,H,T=i[8].video.mp4&&de(i);return{c(){e=m("div"),a=m("div"),l=m("video"),p=m("source"),T&&T.c(),g=Y(`
									Your browser does not support the video tag.`),z=S(),_=m("p"),E=Y(x),d=S(),r=m("a"),R=Y(P),D=S(),h=m("span"),h.textContent=b,M=S(),q=Y(I),H=S(),this.h()},l(c){e=v(c,"DIV",{class:!0,style:!0});var w=C(e);a=v(w,"DIV",{class:!0});var y=C(a);l=v(y,"VIDEO",{class:!0});var t=C(l);p=v(t,"SOURCE",{src:!0,type:!0}),T&&T.l(t),g=W(t,`
									Your browser does not support the video tag.`),t.forEach(u),y.forEach(u),z=V(w),_=v(w,"P",{class:!0});var f=C(_);E=W(f,x),d=V(f),r=v(f,"A",{href:!0,target:!0,rel:!0,class:!0,"aria-label":!0});var s=C(r);R=W(s,P),D=V(s),h=v(s,"SPAN",{class:!0,"data-svelte-h":!0}),F(h)!=="svelte-wyi5zh"&&(h.textContent=b),s.forEach(u),M=V(f),q=W(f,I),f.forEach(u),H=V(w),w.forEach(u),this.h()},h(){te(p.src,k=i[8].video.webm)||n(p,"src",k),n(p,"type","video/webm"),l.autoplay=!0,l.loop=!0,l.muted=!0,l.playsInline=!0,n(l,"class","w-full rounded-lg shadow-lg"),n(a,"class","p-8 pb-6"),n(h,"class","ml-1"),n(r,"href",i[8].caption.link),n(r,"target","_blank"),n(r,"rel","noopener noreferrer"),n(r,"class","inline-flex items-center underline hover:text-primary svelte-t6yzbm"),n(r,"aria-label","Zed's CRDT blog post (opens in new tab)"),n(_,"class","px-8 pb-6 text-center text-sm text-muted-foreground"),n(e,"class","absolute inset-0 transition-opacity duration-300"),Z(e,"opacity",i[2]===i[10]?"1":"0")},m(c,w){L(c,e,w),o(e,a),o(a,l),o(l,p),T&&T.m(l,null),o(l,g),o(e,z),o(e,_),o(_,E),o(_,d),o(_,r),o(r,R),o(r,D),o(r,h),o(_,M),o(_,q),o(e,H)},p(c,w){c[8].video.mp4&&T.p(c,w),w&4&&Z(e,"opacity",c[2]===c[10]?"1":"0")},d(c){c&&u(e),T&&T.d()}}}function ue(i){let e,a=`<div class="prose"><h1>Core features sandbox</h1> <p>This page is for testing and refining the three core feature demonstrations:</p> <ol><li><strong>Same-line editing</strong> — Show real-time collaborative editing with cursor
				presence</li> <li><strong>Folder sharing</strong> — Visualize how sharing specific folders maintains vault
				integrity</li> <li><strong>Work anywhere</strong> — Demonstrate conflict-free sync with CRDT visualization</li></ol> <p>Current focus is on making these demonstrations clear and compelling, not on code
			cleanliness.</p></div>`,l,p,k,g,z='<nav class="flex gap-4 text-sm text-muted-foreground"><span class="font-semibold text-primary">Core features</span> <a href="/sandbox/testimonials" class="svelte-t6yzbm">Social proof</a> <a href="/sandbox/work" class="svelte-t6yzbm">Work</a> <a href="/sandbox/how" class="svelte-t6yzbm">How it works</a> <a href="/sandbox/use-cases" class="svelte-t6yzbm">Use cases</a></nav>',_,x,E,d,r,P='<h2 class="text-3xl font-bold">Core features</h2> <p class="mt-4 text-lg text-muted-foreground">Everything you need for seamless collaboration in Obsidian.</p>',R,D,h,b,M,I,q,H,T=N(i[4]),c=[];for(let t=0;t<T.length;t+=1)c[t]=$(X(i,T,t));let w=N(i[4]),y=[];for(let t=0;t<w.length;t+=1)y[t]=ee(Q(i,w,t));return{c(){e=m("div"),e.innerHTML=a,l=S(),p=m("hr"),k=S(),g=m("div"),g.innerHTML=z,_=S(),x=m("section"),E=m("div"),d=m("div"),r=m("div"),r.innerHTML=P,R=S(),D=m("div"),h=m("div"),b=m("div"),M=S(),I=m("div");for(let t=0;t<c.length;t+=1)c[t].c();q=S(),H=m("div");for(let t=0;t<y.length;t+=1)y[t].c();this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1wpabq8"&&(e.innerHTML=a),l=V(t),p=v(t,"HR",{class:!0}),k=V(t),g=v(t,"DIV",{class:!0,"data-svelte-h":!0}),F(g)!=="svelte-1412fh5"&&(g.innerHTML=z),_=V(t),x=v(t,"SECTION",{class:!0});var f=C(x);E=v(f,"DIV",{class:!0});var s=C(E);d=v(s,"DIV",{class:!0});var O=C(d);r=v(O,"DIV",{class:!0,"data-svelte-h":!0}),F(r)!=="svelte-th0c48"&&(r.innerHTML=P),R=V(O),D=v(O,"DIV",{class:!0});var j=C(D);h=v(j,"DIV",{class:!0});var A=C(h);b=v(A,"DIV",{class:!0,style:!0}),C(b).forEach(u),M=V(A),I=v(A,"DIV",{class:!0});var G=C(I);for(let U=0;U<c.length;U+=1)c[U].l(G);G.forEach(u),A.forEach(u),q=V(j),H=v(j,"DIV",{class:!0});var J=C(H);for(let U=0;U<y.length;U+=1)y[U].l(J);J.forEach(u),j.forEach(u),O.forEach(u),s.forEach(u),f.forEach(u),this.h()},h(){n(e,"class","container py-8"),n(p,"class","my-8 border-t"),n(g,"class","container py-4"),n(r,"class","mb-12 text-center"),n(b,"class","absolute left-0 right-0 rounded-lg bg-primary/10 ring-1 ring-primary/25 transition-all duration-200"),Z(b,"top",i[1].top+"px"),Z(b,"height",i[1].height+"px"),n(I,"class","flex flex-col gap-2"),n(h,"class","relative"),n(H,"class","relative overflow-hidden rounded-lg border bg-background"),n(D,"class","grid gap-12 lg:grid-cols-[400px_1fr]"),n(d,"class","mx-auto max-w-[1200px]"),n(E,"class","container"),n(x,"class","border-y bg-secondary/50 py-24")},m(t,f){L(t,e,f),L(t,l,f),L(t,p,f),L(t,k,f),L(t,g,f),L(t,_,f),L(t,x,f),o(x,E),o(E,d),o(d,r),o(d,R),o(d,D),o(D,h),o(h,b),o(h,M),o(h,I);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(I,null);o(D,q),o(D,H);for(let s=0;s<y.length;s+=1)y[s]&&y[s].m(H,null)},p(t,[f]){if(f&2&&Z(b,"top",t[1].top+"px"),f&2&&Z(b,"height",t[1].height+"px"),f&25){T=N(t[4]);let s;for(s=0;s<T.length;s+=1){const O=X(t,T,s);c[s]?c[s].p(O,f):(c[s]=$(O),c[s].c(),c[s].m(I,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=T.length}if(f&20){w=N(t[4]);let s;for(s=0;s<w.length;s+=1){const O=Q(t,w,s);y[s]?y[s].p(O,f):(y[s]=ee(O),y[s].c(),y[s].m(H,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=w.length}},i:B,o:B,d(t){t&&(u(e),u(l),u(p),u(k),u(g),u(_),u(x)),K(c,t),K(y,t)}}}function he(i,e,a){let l;const p=ce(0);ie(i,p,d=>a(2,l=d));let k=[],g={top:0,height:0};function z(d){const r=k[d];r&&a(1,g={top:r.offsetTop,height:r.offsetHeight})}oe(()=>{setTimeout(()=>z(l),0)}),p.subscribe(d=>{z(d)});const _=[{title:"Share folders, keep your vault whole",description:"Share specific folders while keeping your knowledge library unified.",video:{webm:"/videos/selective-sharing-demo.webm",mp4:"/videos/selective-sharing-demo.mp4"},caption:{text:"Relay running in",linkText:"Obsidian",link:"https://obsidian.md",suffix:", showing selective folder sharing."}},{title:"Edit the same line at the same time",description:"Changes are tracked at the keystroke level, not the file level. See how fast updates flow between users — no waiting, no conflicts.",video:{webm:"/videos/edit-same-line-demo.webm",mp4:"/videos/edit-same-line-demo.mp4"},caption:{text:"Relay running in",linkText:"Obsidian",link:"https://obsidian.md",suffix:", demonstrating real-time collaboration."}},{title:"Work anywhere, smoothly",description:"Edit online or offline. Updates are processed as atomic operations that can't conflict — they just work.",video:{webm:"https://zed.dev/img/post/crdts/crdt-concurrent-insertion-part-3.webm"},caption:{text:"CRDT visualization from",link:"https://zed.dev/blog/crdts",linkText:"Zed",suffix:", the excellent CRDT-based code editor we use to build Relay."}}];function x(d,r){ae[d?"unshift":"push"](()=>{k[r]=d,a(0,k)})}return[k,g,l,p,_,x,d=>p.set(d)]}class ge extends re{constructor(e){super(),ne(this,e,he,ue,se,{})}}export{ge as component};
