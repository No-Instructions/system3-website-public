import{s as x,d as p,i as S,f as O,t as T,z as J,T as W,U as Y,b as D,p as R,c as z,e as N,g as C,h as M,j as I,W as ee,q as te,k as P}from"./scheduler.D_DiFEDa.js";import{S as se,i as re,h as A,d as b,t as g,a as h,m as w,c as k,b as v}from"./index.uqldPLAT.js";import{g as B,a as H}from"./spread.CgU5AtxT.js";import{z as V}from"./index.Cj8yNO9G.js";import{C as K,a as Q,b as ae,S as ne,s as oe,z as ie}from"./index.DaBUPrNJ.js";import"./index.DYMvb8Iz.js";import{t as U}from"./form-demo.CdCUS8IN.js";import{p as le}from"./stores.wpeaKjQ_.js";import{S as X}from"./switch.CefqXLDv.js";import{F as G}from"./form-field.Cov9v0yM.js";import{F as Z}from"./form-description.B2hj-Bdl.js";function fe(n){let e;return{c(){e=T("Marketing emails")},l(t){e=O(t,"Marketing emails")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function ce(n){let e;return{c(){e=T("Receive emails about new products, features, and more.")},l(t){e=O(t,"Receive emails about new products, features, and more.")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function me(n){let e,t,s,a,f,l,m,d;t=new Q({props:{$$slots:{default:[fe]},$$scope:{ctx:n}}}),a=new Z({props:{$$slots:{default:[ce]},$$scope:{ctx:n}}});const c=[{includeInput:!0},n[8]];function E(r){n[5](r)}let i={};for(let r=0;r<c.length;r+=1)i=J(i,c[r]);return n[0].marketing_emails!==void 0&&(i.checked=n[0].marketing_emails),l=new X({props:i}),W.push(()=>A(l,"checked",E)),{c(){e=M("div"),v(t.$$.fragment),s=I(),v(a.$$.fragment),f=I(),v(l.$$.fragment),this.h()},l(r){e=z(r,"DIV",{class:!0});var o=N(e);k(t.$$.fragment,o),s=C(o),k(a.$$.fragment,o),o.forEach(p),f=C(r),k(l.$$.fragment,r),this.h()},h(){R(e,"class","space-y-0.5")},m(r,o){S(r,e,o),w(t,e,null),D(e,s),w(a,e,null),S(r,f,o),w(l,r,o),d=!0},p(r,o){const F={};o&512&&(F.$$scope={dirty:o,ctx:r}),t.$set(F);const y={};o&512&&(y.$$scope={dirty:o,ctx:r}),a.$set(y);const $=o&256?B(c,[c[0],H(r[8])]):{};!m&&o&1&&(m=!0,$.checked=r[0].marketing_emails,Y(()=>m=!1)),l.$set($)},i(r){d||(h(t.$$.fragment,r),h(a.$$.fragment,r),h(l.$$.fragment,r),d=!0)},o(r){g(t.$$.fragment,r),g(a.$$.fragment,r),g(l.$$.fragment,r),d=!1},d(r){r&&(p(e),p(f)),b(t),b(a),b(l,r)}}}function ue(n){let e,t;return e=new K({props:{$$slots:{default:[me,({attrs:s})=>({8:s}),({attrs:s})=>s?256:0]},$$scope:{ctx:n}}}),{c(){v(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,a){w(e,s,a),t=!0},p(s,a){const f={};a&769&&(f.$$scope={dirty:a,ctx:s}),e.$set(f)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function $e(n){let e;return{c(){e=T("Security emails")},l(t){e=O(t,"Security emails")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function _e(n){let e;return{c(){e=T("Receive emails about your account security.")},l(t){e=O(t,"Receive emails about your account security.")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function de(n){let e,t,s,a,f,l,m,d;t=new Q({props:{$$slots:{default:[$e]},$$scope:{ctx:n}}}),a=new Z({props:{$$slots:{default:[_e]},$$scope:{ctx:n}}});const c=[n[8],{"aria-readonly":!0},{disabled:!0},{includeInput:!0}];function E(r){n[6](r)}let i={};for(let r=0;r<c.length;r+=1)i=J(i,c[r]);return n[0].security_emails!==void 0&&(i.checked=n[0].security_emails),l=new X({props:i}),W.push(()=>A(l,"checked",E)),{c(){e=M("div"),v(t.$$.fragment),s=I(),v(a.$$.fragment),f=I(),v(l.$$.fragment),this.h()},l(r){e=z(r,"DIV",{class:!0});var o=N(e);k(t.$$.fragment,o),s=C(o),k(a.$$.fragment,o),o.forEach(p),f=C(r),k(l.$$.fragment,r),this.h()},h(){R(e,"class","space-y-0.5")},m(r,o){S(r,e,o),w(t,e,null),D(e,s),w(a,e,null),S(r,f,o),w(l,r,o),d=!0},p(r,o){const F={};o&512&&(F.$$scope={dirty:o,ctx:r}),t.$set(F);const y={};o&512&&(y.$$scope={dirty:o,ctx:r}),a.$set(y);const $=o&256?B(c,[H(r[8]),c[1],c[2],c[3]]):{};!m&&o&1&&(m=!0,$.checked=r[0].security_emails,Y(()=>m=!1)),l.$set($)},i(r){d||(h(t.$$.fragment,r),h(a.$$.fragment,r),h(l.$$.fragment,r),d=!0)},o(r){g(t.$$.fragment,r),g(a.$$.fragment,r),g(l.$$.fragment,r),d=!1},d(r){r&&(p(e),p(f)),b(t),b(a),b(l,r)}}}function pe(n){let e,t;return e=new K({props:{$$slots:{default:[de,({attrs:s})=>({8:s}),({attrs:s})=>s?256:0]},$$scope:{ctx:n}}}),{c(){v(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,a){w(e,s,a),t=!0},p(s,a){const f={};a&769&&(f.$$scope={dirty:a,ctx:s}),e.$set(f)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function ge(n){let e;return{c(){e=T("Submit")},l(t){e=O(t,"Submit")},m(t,s){S(t,e,s)},d(t){t&&p(e)}}}function he(n){let e,t;return e=new ne({props:{data:n[0]}}),{c(){v(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,a){w(e,s,a),t=!0},p(s,a){const f={};a&1&&(f.data=s[0]),e.$set(f)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function be(n){let e,t,s,a="Email Notifications",f,l,m,d,c,E,i,r,o,F,y;m=new G({props:{form:n[1],name:"marketing_emails",class:"flex flex-row items-center justify-between rounded-lg border p-4",$$slots:{default:[ue]},$$scope:{ctx:n}}}),c=new G({props:{form:n[1],name:"security_emails",class:"flex flex-row items-center justify-between rounded-lg border p-4",$$slots:{default:[pe]},$$scope:{ctx:n}}}),i=new ae({props:{$$slots:{default:[ge]},$$scope:{ctx:n}}});let $=he(n);return{c(){e=M("form"),t=M("fieldset"),s=M("legend"),s.textContent=a,f=I(),l=M("div"),v(m.$$.fragment),d=I(),v(c.$$.fragment),E=I(),v(i.$$.fragment),r=I(),$&&$.c(),this.h()},l(u){e=z(u,"FORM",{method:!0,action:!0,class:!0});var _=N(e);t=z(_,"FIELDSET",{});var j=N(t);s=z(j,"LEGEND",{class:!0,"data-svelte-h":!0}),te(s)!=="svelte-1im5qmh"&&(s.textContent=a),f=C(j),l=z(j,"DIV",{class:!0});var q=N(l);k(m.$$.fragment,q),d=C(q),k(c.$$.fragment,q),q.forEach(p),j.forEach(p),E=C(_),k(i.$$.fragment,_),r=C(_),$&&$.l(_),_.forEach(p),this.h()},h(){R(s,"class","mb-4 text-lg font-medium"),R(l,"class","space-y-4"),R(e,"method","POST"),R(e,"action","/?/switch"),R(e,"class","w-full space-y-6")},m(u,_){S(u,e,_),D(e,t),D(t,s),D(t,f),D(t,l),w(m,l,null),D(l,d),w(c,l,null),D(e,E),w(i,e,null),D(e,r),$&&$.m(e,null),o=!0,F||(y=ee(n[3].call(null,e)),F=!0)},p(u,[_]){const j={};_&513&&(j.$$scope={dirty:_,ctx:u}),m.$set(j);const q={};_&513&&(q.$$scope={dirty:_,ctx:u}),c.$set(q);const L={};_&512&&(L.$$scope={dirty:_,ctx:u}),i.$set(L),$.p(u,_)},i(u){o||(h(m.$$.fragment,u),h(c.$$.fragment,u),h(i.$$.fragment,u),h($),o=!0)},o(u){g(m.$$.fragment,u),g(c.$$.fragment,u),g(i.$$.fragment,u),g($),o=!1},d(u){u&&p(e),b(m),b(c),b(i),$&&$.d(),F=!1,y()}}}const we=V.object({marketing_emails:V.boolean().default(!1).optional(),security_emails:V.boolean().default(!0)});function ke(n,e,t){let s,a;P(n,le,i=>t(7,s=i));let{form:f=s.data.switch}=e;const l=oe(f,{validators:ie(we),onUpdated:({form:i})=>{i.valid?U.success(`You submitted ${JSON.stringify(i.data,null,2)}`):U.error("Please fix the errors in the form.")}}),{form:m,enhance:d}=l;P(n,m,i=>t(0,a=i));function c(i){n.$$.not_equal(a.marketing_emails,i)&&(a.marketing_emails=i,m.set(a))}function E(i){n.$$.not_equal(a.security_emails,i)&&(a.security_emails=i,m.set(a))}return n.$$set=i=>{"form"in i&&t(4,f=i.form)},[a,l,m,d,f,c,E]}class ze extends se{constructor(e){super(),re(this,e,ke,be,x,{form:4})}}export{ze as default,we as formSchema};
