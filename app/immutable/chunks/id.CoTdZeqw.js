import{w as p}from"./index.BUY9SMGD.js";import{w as b,b as f,s as w,v as y}from"./index.C7oMflsj.js";import{h as I}from"./rovingFocus.C-KkN-th.js";import{y as x}from"./scheduler.D_DiFEDa.js";function E(a){a.setAttribute("data-highlighted","")}function _(a){a.removeAttribute("data-highlighted")}function A(a,n=500){let t=null;return function(...o){const c=()=>{t=null,a(...o)};t&&clearTimeout(t),t=setTimeout(c,n)}}const C=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),T={onMatch:I,getCurrentItem:()=>document.activeElement};function j(a={}){const n={...T,...a},t=b(p([])),o=A(()=>{t.update(()=>[])});return{typed:t,resetTyped:o,handleTypeaheadSearch:(d,m)=>{if(C.has(d))return;const s=n.getCurrentItem(),r=x(t);if(!Array.isArray(r))return;r.push(d.toLowerCase()),t.set(r);const l=m.filter(e=>!(e.getAttribute("disabled")==="true"||e.getAttribute("aria-disabled")==="true"||e.hasAttribute("data-disabled"))),h=r.length>1&&r.every(e=>e===r[0])?r[0]:r.join(""),g=f(s)?l.indexOf(s):-1;let i=w(l,Math.max(g,0));h.length===1&&(i=i.filter(e=>e!==s));const u=i.find(e=>(e==null?void 0:e.innerText)&&e.innerText.toLowerCase().startsWith(h.toLowerCase()));f(u)&&u!==s&&n.onMatch(u),o()}}}function k(){return y(10)}export{E as a,j as c,k as g,_ as r};
