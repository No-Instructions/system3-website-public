import{s as I,d as c,i as g,f as P,t as j,z as J,a as L,g as k,j as C,T as W,U as G,p as F,c as N,h as A,b as U,W as H,e as K,k as O,a3 as R}from"./scheduler.D_DiFEDa.js";import{S as Q,i as X,d as b,t as _,a as d,m as h,c as v,b as w,h as Z}from"./index.uqldPLAT.js";import{g as y,a as x}from"./spread.CgU5AtxT.js";import{z as Y}from"./index.Cj8yNO9G.js";import{C as ee}from"./Calendar.DcISKcr0.js";import{j as q,$ as D,g as E,f as te,e as ae,h as re}from"./index.C7oMflsj.js";import{C as oe,a as ne,S as se,s as fe,z as le}from"./index.DaBUPrNJ.js";import"./index.DYMvb8Iz.js";import{t as B}from"./form-demo.CdCUS8IN.js";import{p as me}from"./stores.wpeaKjQ_.js";import{c as M}from"./utils.DREkexI4.js";import{C as $e}from"./calendar-prev-button.CdAbFevH.js";import{R as ue,T as ie,P as pe}from"./index.DK9f4Mtg.js";import{F as ce}from"./form-field.Cov9v0yM.js";import{F as _e}from"./form-description.B2hj-Bdl.js";import{F as de}from"./form-field-errors.B5tAp3l1.js";import{B as ge}from"./button.B84cRB6J.js";function be(s){let e;return{c(){e=j("Date of birth")},l(a){e=P(a,"Date of birth")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function he(s){let e=(s[1]?s[6].format(s[1].toDate(D())):"Pick a date")+"",a,t,f,l;return f=new ee({props:{class:"ml-auto h-4 w-4 opacity-50"}}),{c(){a=j(e),t=C(),w(f.$$.fragment)},l(o){a=P(o,e),t=k(o),v(f.$$.fragment,o)},m(o,r){g(o,a,r),g(o,t,r),h(f,o,r),l=!0},p(o,r){(!l||r&2)&&e!==(e=(o[1]?o[6].format(o[1].toDate(D())):"Pick a date")+"")&&L(a,e)},i(o){l||(d(f.$$.fragment,o),l=!0)},o(o){_(f.$$.fragment,o),l=!1},d(o){o&&(c(a),c(t)),b(f,o)}}}function ve(s){let e,a,t;function f(o){s[9](o)}let l={value:s[1],minValue:new te(1900,1,1),maxValue:E(D()),calendarLabel:"Date of birth",initialFocus:!0,onValueChange:s[8]};return s[2]!==void 0&&(l.placeholder=s[2]),e=new $e({props:l}),W.push(()=>Z(e,"placeholder",f)),{c(){w(e.$$.fragment)},l(o){v(e.$$.fragment,o)},m(o,r){h(e,o,r),t=!0},p(o,r){const i={};r&2&&(i.value=o[1]),r&1&&(i.onValueChange=o[8]),!a&&r&4&&(a=!0,i.placeholder=o[2],G(()=>a=!1)),e.$set(i)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){b(e,o)}}}function we(s){let e,a,t,f;const l=[s[11],{class:M(q({variant:"outline"}),"w-[280px] justify-start pl-4 text-left font-normal",!s[1]&&"text-muted-foreground")}];let o={$$slots:{default:[he]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)o=J(o,l[r]);return e=new ie({props:o}),t=new pe({props:{class:"w-auto p-0",side:"top",$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment),a=C(),w(t.$$.fragment)},l(r){v(e.$$.fragment,r),a=k(r),v(t.$$.fragment,r)},m(r,i){h(e,r,i),g(r,a,i),h(t,r,i),f=!0},p(r,i){const $=i&2050?y(l,[i&2048&&x(r[11]),i&2&&{class:M(q({variant:"outline"}),"w-[280px] justify-start pl-4 text-left font-normal",!r[1]&&"text-muted-foreground")}]):{};i&4098&&($.$$scope={dirty:i,ctx:r}),e.$set($);const u={};i&4103&&(u.$$scope={dirty:i,ctx:r}),t.$set(u)},i(r){f||(d(e.$$.fragment,r),d(t.$$.fragment,r),f=!0)},o(r){_(e.$$.fragment,r),_(t.$$.fragment,r),f=!1},d(r){r&&c(a),b(e,r),b(t,r)}}}function Se(s){let e;return{c(){e=j("Your date of birth is used to calculator your age")},l(a){e=P(a,"Your date of birth is used to calculator your age")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function ke(s){let e,a,t,f,l,o,r,i,$,u,p,S;return e=new ne({props:{$$slots:{default:[be]},$$scope:{ctx:s}}}),t=new ue({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),l=new _e({props:{$$slots:{default:[Se]},$$scope:{ctx:s}}}),r=new de({}),{c(){w(e.$$.fragment),a=C(),w(t.$$.fragment),f=C(),w(l.$$.fragment),o=C(),w(r.$$.fragment),i=C(),$=A("input"),this.h()},l(n){v(e.$$.fragment,n),a=k(n),v(t.$$.fragment,n),f=k(n),v(l.$$.fragment,n),o=k(n),v(r.$$.fragment,n),i=k(n),$=N(n,"INPUT",{name:!0}),this.h()},h(){$.hidden=!0,$.value=u=s[0].dob,F($,"name",p=s[11].name)},m(n,m){h(e,n,m),g(n,a,m),h(t,n,m),g(n,f,m),h(l,n,m),g(n,o,m),h(r,n,m),g(n,i,m),g(n,$,m),S=!0},p(n,m){const T={};m&4096&&(T.$$scope={dirty:m,ctx:n}),e.$set(T);const V={};m&6151&&(V.$$scope={dirty:m,ctx:n}),t.$set(V);const z={};m&4096&&(z.$$scope={dirty:m,ctx:n}),l.$set(z),(!S||m&1&&u!==(u=n[0].dob)&&$.value!==u)&&($.value=u),(!S||m&2048&&p!==(p=n[11].name))&&F($,"name",p)},i(n){S||(d(e.$$.fragment,n),d(t.$$.fragment,n),d(l.$$.fragment,n),d(r.$$.fragment,n),S=!0)},o(n){_(e.$$.fragment,n),_(t.$$.fragment,n),_(l.$$.fragment,n),_(r.$$.fragment,n),S=!1},d(n){n&&(c(a),c(f),c(o),c(i),c($)),b(e,n),b(t,n),b(l,n),b(r,n)}}}function Ce(s){let e,a;return e=new oe({props:{$$slots:{default:[ke,({attrs:t})=>({11:t}),({attrs:t})=>t?2048:0]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,f){h(e,t,f),a=!0},p(t,f){const l={};f&6151&&(l.$$scope={dirty:f,ctx:t}),e.$set(l)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){_(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Fe(s){let e;return{c(){e=j("Submit")},l(a){e=P(a,"Submit")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function De(s){let e,a;return e=new se({props:{data:s[0]}}),{c(){w(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,f){h(e,t,f),a=!0},p(t,f){const l={};f&1&&(l.data=t[0]),e.$set(l)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){_(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Pe(s){let e,a,t,f,l,o,r,i;a=new ce({props:{form:s[3],name:"dob",class:"flex flex-col",$$slots:{default:[Ce]},$$scope:{ctx:s}}}),f=new ge({props:{type:"submit",$$slots:{default:[Fe]},$$scope:{ctx:s}}});let $=De(s);return{c(){e=A("form"),w(a.$$.fragment),t=C(),w(f.$$.fragment),l=C(),$&&$.c(),this.h()},l(u){e=N(u,"FORM",{method:!0,action:!0,class:!0});var p=K(e);v(a.$$.fragment,p),t=k(p),v(f.$$.fragment,p),l=k(p),$&&$.l(p),p.forEach(c),this.h()},h(){F(e,"method","POST"),F(e,"action","/?/datePicker"),F(e,"class","space-y-8")},m(u,p){g(u,e,p),h(a,e,null),U(e,t),h(f,e,null),U(e,l),$&&$.m(e,null),o=!0,r||(i=H(s[5].call(null,e)),r=!0)},p(u,[p]){const S={};p&4103&&(S.$$scope={dirty:p,ctx:u}),a.$set(S);const n={};p&4096&&(n.$$scope={dirty:p,ctx:u}),f.$set(n),$.p(u,p)},i(u){o||(d(a.$$.fragment,u),d(f.$$.fragment,u),d($),o=!0)},o(u){_(a.$$.fragment,u),_(f.$$.fragment,u),_($),o=!1},d(u){u&&c(e),b(a),b(f),$&&$.d(),r=!1,i()}}}const je=Y.object({dob:Y.string().refine(s=>s,{message:"A date of birth is required."})});function Te(s,e,a){let t,f;O(s,me,m=>a(10,f=m));let{form:l=f.data.datePicker}=e;const o=fe(l,{validators:le(je),taintedMessage:null,onUpdated:({form:m})=>{m.valid?B.success(`You submitted ${JSON.stringify(m.data,null,2)}`):B.error("Please fix the errors in the form.")}}),{form:r,enhance:i}=o;O(s,r,m=>a(0,t=m));const $=new ae("en-US",{dateStyle:"long"});let u,p=E(D());const S=m=>{m?R(r,t.dob=m.toString(),t):R(r,t.dob="",t)};function n(m){p=m,a(2,p)}return s.$$set=m=>{"form"in m&&a(7,l=m.form)},s.$$.update=()=>{s.$$.dirty&1&&a(1,u=t.dob?re(t.dob):void 0)},[t,u,p,o,r,i,$,l,S,n]}class He extends Q{constructor(e){super(),X(this,e,Te,Pe,I,{form:7})}}export{He as default,je as formSchema};
