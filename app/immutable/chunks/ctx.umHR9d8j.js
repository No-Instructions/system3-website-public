import{y as A,ad as j,L as U,Q as X}from"./scheduler.D_DiFEDa.js";import{w as b,r as ot}from"./index.BUY9SMGD.js";import{v as St}from"./index.C7oMflsj.js";const tt=1,ht=.9,gt=.8,Tt=.17,F=.1,V=.999,Rt=.9999,$t=.99,Pt=/[\\/_+.#"@[({&]/,Ct=/[\\/_+.#"@[({&]/g,Mt=/[\s-]/,rt=/[\s-]/g;function q(e,r,c,s,E,d,T){if(d===r.length)return E===e.length?tt:$t;const N=`${E},${d}`;if(T[N]!==void 0)return T[N];const D=s.charAt(d);let f=c.indexOf(D,E),C=0,m,O,w,P;for(;f>=0;)m=q(e,r,c,s,f+1,d+1,T),m>C&&(f===E?m*=tt:Pt.test(e.charAt(f-1))?(m*=gt,w=e.slice(E,f-1).match(Ct),w&&E>0&&(m*=Math.pow(V,w.length))):Mt.test(e.charAt(f-1))?(m*=ht,P=e.slice(E,f-1).match(rt),P&&E>0&&(m*=Math.pow(V,P.length))):(m*=Tt,E>0&&(m*=Math.pow(V,f-E))),e.charAt(f)!==r.charAt(d)&&(m*=Rt)),(m<F&&c.charAt(f-1)===s.charAt(d+1)||s.charAt(d+1)===s.charAt(d)&&c.charAt(f-1)!==s.charAt(d))&&(O=q(e,r,c,s,f+1,d+2,T),O*F>m&&(m=O*F)),m>C&&(C=m),f=c.indexOf(D,f+1);return T[N]=C,C}function et(e){return e.toLowerCase().replace(rt," ")}function Nt(e,r){return q(e,r,et(e),et(r),0,0,{})}const ke=typeof document<"u";function M(e){return e instanceof HTMLElement}function ye(e){return e instanceof HTMLInputElement}function ct(e){return e===void 0}function $(){return St(10)}const L={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",END:"End",ENTER:"Enter",HOME:"Home"};function _t(e,...r){const c={};for(const s of Object.keys(e))r.includes(s)||(c[s]=e[s]);return c}function st(e){const r={};for(const c in e){const s=e[c];s!==void 0&&(r[c]=s)}return r}function bt(e){const r={};return Object.keys(e).forEach(c=>{const s=c,E=e[s];r[s]=b(E)}),r}const it="Command",ut="CommandState",at="CommandGroup",Ot="[data-cmdk-list-sizer]",v="[data-cmdk-group]",nt="[data-cmdk-group-items]",wt="[data-cmdk-group-heading]",kt="[data-cmdk-item]",K=`${kt}:not([aria-disabled="true"])`,_="data-value",lt=(e,r)=>Nt(e,r);function Le(){return X(it)}function ve(){return X(ut)}function De(e){const r=$();return j(at,{id:r,alwaysRender:ct(e)?!1:e}),{id:r}}function Ue(){const e=X(at);if(e)return e}function yt(e){const r={search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}};return b(e?{...r,...st(e)}:r)}const Lt={label:"Command menu",shouldFilter:!0,loop:!1,onValueChange:void 0,value:void 0,filter:lt,ids:{root:$(),list:$(),label:$(),input:$()}};function xe(e){const r={root:$(),list:$(),label:$(),input:$(),...e.ids},c={...Lt,...st(e)},s=e.state??yt({value:c.value}),E=b(new Set),d=b(new Map),T=b(new Map),N=b(null),D=bt(_t(c,"value","ids")),{shouldFilter:f,loop:C,filter:m,label:O}=D,w={value:(t,o)=>{o!==A(T).get(t)&&(T.update(n=>(n.set(t,o),n)),s.update(n=>(n.filtered.items.set(t,J(o,n.search)),I(n,A(f)))))},item:(t,o)=>(E.update(n=>n.add(t)),o&&d.update(n=>{var i;return n.has(o)?(i=n.get(o))==null||i.add(t):n.set(o,new Set([t])),n}),s.update(n=>{const i=A(f),u=x(n,i),S=I(u,i);if(!S.value){const g=G();S.value=g??""}return S}),()=>{T.update(n=>(n.delete(t),n)),E.update(n=>(n.delete(t),n)),s.update(n=>{n.filtered.items.delete(t);const i=y(),u=x(n);return(i==null?void 0:i.getAttribute("id"))===t&&(u.value=G()??""),n})}),group:t=>(d.update(o=>(o.has(t)||o.set(t,new Set),o)),()=>{T.update(o=>(o.delete(t),o)),d.update(o=>(o.delete(t),o))}),filter:()=>A(f),label:A(O)||e["aria-label"]||"",commandEl:N,ids:r,updateState:P};function P(t,o,n){const i=A(f);s.update(u=>{var S;return Object.is(u[t],o)||(u[t]=o,t==="search"?(u=x(u,i),u=I(u,i),U().then(()=>s.update(a=>(a.value=G()??"",a)))):t==="value"&&((S=e.onValueChange)==null||S.call(e,u.value),n||U().then(()=>Et()))),u})}function x(t,o){const n=o??A(f),i=A(E),u=A(T);if(!t.search||!n)return t.filtered.count=i.size,t;t.filtered.groups=new Set;let S=0;for(const g of i){const R=u.get(g),a=J(R,t.search);t.filtered.items.set(g,a),a>0&&S++}for(const[g,R]of A(d))for(const a of R){const p=t.filtered.items.get(a);p&&p>0&&t.filtered.groups.add(g)}return t.filtered.count=S,t}function I(t,o){const n=o??A(f);if(!t.search||!n)return t;const i=t.filtered.items,u=[],S=A(d);t.filtered.groups.forEach(a=>{const p=S.get(a);if(!p)return;let h=0;p.forEach(W=>{const z=i.get(W);ct(z)||(h=Math.max(z,h))}),u.push([a,h])});const g=document.getElementById(r.root);if(!g)return t;const R=g.querySelector(Ot);return k(g).sort((a,p)=>{const h=a.getAttribute(_)??"",W=p.getAttribute(_)??"";return(i.get(h)??0)-(i.get(W)??0)}).forEach(a=>{const p=a.closest(nt),h=a.closest(`${nt} > *`);if(M(p))if(a.parentElement===p)p.appendChild(a);else{if(!M(h))return;p.appendChild(h)}else{if(!M(R))return;if(a.parentElement===R)R.appendChild(a);else{if(!M(h))return;R.appendChild(h)}}}),u.sort((a,p)=>p[1]-a[1]).forEach(a=>{var h;const p=g.querySelector(`${v}[${_}="${a[0]}"]`);M(p)&&((h=p.parentElement)==null||h.appendChild(p))}),t}function G(){const t=k().find(n=>!n.ariaDisabled);if(!t)return;const o=t.getAttribute(_);if(o)return o}function J(t,o){const n=t==null?void 0:t.toLowerCase().trim(),i=A(m);return i?n?i(n,o):0:n?lt(n,o):0}function Et(){var o;const t=y();t&&(((o=t.parentElement)==null?void 0:o.firstChild)===t&&U().then(()=>{var n,i;return(i=(n=t.closest(v))==null?void 0:n.querySelector(wt))==null?void 0:i.scrollIntoView({block:"nearest"})}),U().then(()=>t.scrollIntoView({block:"nearest"})))}function k(t){const o=t??document.getElementById(r.root);return o?Array.from(o.querySelectorAll(K)).filter(n=>M(n)):[]}function y(t){const o=document.getElementById(r.root);if(!o)return;const n=o.querySelector(`${K}[aria-selected="true"]`);return M(n)?n:null}function H(t){const o=document.getElementById(r.root);!o||k(o)[t]}function B(t){const o=y(),n=k(),i=n.findIndex(S=>S===o);let u=n[i+t];A(C)&&(i+t<0?u=n[n.length-1]:i+t===n.length?u=n[0]:u=n[i+t]),u&&P("value",u.getAttribute(_)??"")}function Y(t){const o=y();let n=o==null?void 0:o.closest(v),i;for(;n&&!i;)n=t>0?vt(n,v):Dt(n,v),i=n==null?void 0:n.querySelector(K);i?P("value",i.getAttribute(_)??""):B(t)}function Q(){return H(k().length-1)}function pt(t){t.preventDefault(),t.metaKey?Q():t.altKey?Y(1):B(1)}function mt(t){t.preventDefault(),t.metaKey?H(0):t.altKey?Y(-1):B(-1)}function At(t){switch(t.key){case L.ARROW_DOWN:pt(t);break;case L.ARROW_UP:mt(t);break;case L.HOME:t.preventDefault(),H(0);break;case L.END:t.preventDefault(),Q();break;case L.ENTER:{t.preventDefault();const o=y();o&&o.click()}}}j(it,w);const Z={subscribe:s.subscribe,update:s.update,set:s.set,updateState:P};return j(ut,Z),{state:Z,handleRootKeydown:At,commandEl:N,ids:r}}function vt(e,r){let c=e.nextElementSibling;for(;c;){if(c.matches(r))return c;c=c.nextElementSibling}}function Dt(e,r){let c=e.previousElementSibling;for(;c;){if(c.matches(r))return c;c=c.previousElementSibling}}function Ut(e){return Object.keys(e).reduce((r,c)=>e[c]===void 0?r:r+`${c}:${e[c]};`,"")}Ut({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function ft(e,r,c,s){const E=Array.isArray(r)?r:[r];return E.forEach(d=>e.addEventListener(d,c,s)),()=>{E.forEach(d=>e.removeEventListener(d,c,s))}}const xt={ESCAPE:"Escape"};ot(void 0,e=>{function r(s){e(s),e(void 0)}return ft(document,"pointerup",r,{passive:!1,capture:!0})});ot(void 0,e=>{function r(s){s&&s.key===xt.ESCAPE&&e(s),e(void 0)}return ft(document,"keydown",r,{passive:!1,capture:!0})});function l(e,r){const c={};return r.forEach(s=>{c[s]={[`data-bits-${e}-${s}`]:""}}),s=>c[s]}function dt(e){return Object.keys(e).reduce((r,c)=>e[c]===void 0?r:r+`${c}:${e[c]};`,"")}dt({position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"});dt({position:"absolute",width:"25px",height:"25px",opacity:"0",margin:"0px",pointerEvents:"none",transform:"translateX(-100%)"});const It="accordion",Gt=["root","content","header","item","trigger"];l(It,Gt);const Ht="alert-dialog",Bt=["action","cancel","content","description","overlay","portal","title","trigger"];l(Ht,Bt);const Wt="avatar",Ft=["root","image","fallback"];l(Wt,Ft);const Vt="checkbox",Kt=["root","input","indicator"];l(Vt,Kt);const jt="collapsible",qt=["root","content","trigger"];l(jt,qt);const Xt="context-menu",Jt=["arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","separator","sub-content","sub-trigger","trigger"];l(Xt,Jt);const Yt="dialog",Qt=["close","content","description","overlay","portal","title","trigger"];l(Yt,Qt);const Zt="dropdown-menu",zt=["arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","separator","sub-content","sub-trigger","trigger"];l(Zt,zt);const te="link-preview",ee=["arrow","content","trigger"];l(te,ee);const ne="label",oe=["root"];l(ne,oe);const re="menubar",ce=["root","arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","separator","sub-content","sub-trigger","trigger"];l(re,ce);const se="popover",ie=["arrow","close","content","trigger"];l(se,ie);const ue="progress",ae=["root"];l(ue,ae);const le="radio-group",fe=["root","item","input"];l(le,fe);const de="select",Ee=["arrow","content","group","item","input","label","trigger","value"];l(de,Ee);const pe="separator",me=["root"];l(pe,me);const Ae="slider",Se=["root","input","range","thumb","tick"];l(Ae,Se);const he="switch",ge=["root","input","thumb"];l(he,ge);const Te="tabs",Re=["root","content","list","trigger"];l(Te,Re);const $e="toggle",Pe=["root","input"];l($e,Pe);const Ce="toggle-group",Me=["root","item"];l(Ce,Me);const Ne="tooltip",_e=["arrow","content","trigger"];l(Ne,_e);export{kt as I,_ as V,ve as a,$ as b,De as c,xe as d,ke as e,ye as f,Le as g,Ue as h,M as i,ct as j};
