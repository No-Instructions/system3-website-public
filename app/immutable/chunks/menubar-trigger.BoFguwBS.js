import{L as xe,ad as ye,Q as Le,s as ce,l as X,u as Z,m as x,o as $,z as w,d as J,A as le,i as de,W as qe,c as ze,e as Ge,h as Ye,P as ue,D as ae,k as ie,E as je,T as Qe,w as $e,C as me}from"./scheduler.D_DiFEDa.js";import{S as fe,i as ge,t as V,a as W,g as we,f as Je}from"./index.uqldPLAT.js";import{g as Xe}from"./spread.CgU5AtxT.js";import{t as be,o as et,w as K,y as tt,m as _e,p as nt,B as Te,d as Y,k as he,D as rt,q as M,c as re,b as C,z as se,M as st,n as Se,C as it,G as ot,A as lt,x as ut,S as at}from"./index.C7oMflsj.js";import{w as j,d as Oe}from"./index.BUY9SMGD.js";import{a as ve,r as Ne}from"./id.CoTdZeqw.js";import{r as ct}from"./action.CwT_Cm_L.js";import{d as dt,u as ft}from"./action.BHoK0Tyv.js";import{h as Fe,g as gt,a as mt}from"./rovingFocus.C-KkN-th.js";import{g as bt}from"./portal.DLnU1PD1.js";import{m as _t,o as ht,p as Et,q as Re,r as yt}from"./menu-content.C0WlwbYB.js";import{c as De,r as ke,g as pe}from"./updater.Dth1Bj6g.js";import{c as Ot}from"./events.BMfxwV7f.js";const Be=[M.ARROW_LEFT,M.ARROW_RIGHT,M.HOME,M.END],{name:Ee}=nt("menubar"),kt={loop:!0,closeOnEscape:!0,preventScroll:!1},pt=["menubar"];function It(t){const e={...kt,...t},n=be(et(e,"ids")),{loop:r,closeOnEscape:s,preventScroll:a}=n,i=K(j("")),g=K(j(null)),u=K(j(null)),o=K(j(null)),c=K(j(0));let k=!1;const E=be({...tt(pt),...e.ids}),m=_e(Ee(),{stores:[E.menubar],returned([b]){return{role:"menubar","data-melt-menubar":"","data-orientation":"horizontal",id:b}},action:b=>{const h=Array.from(b.querySelectorAll("[data-melt-menubar-trigger]"));return C(h[0])?(h[0].tabIndex=0,{destroy:Se}):{}}}),T={positioning:{placement:"bottom-start"},arrowSize:8,dir:"ltr",loop:!1,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,forceVisible:!1,defaultOpen:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0},v=b=>{const h={...T,...b},l=K(j(!1)),d=K(j(null)),F=be(h),{positioning:P,portal:B,forceVisible:ee,closeOnOutsideClick:L,onOutsideClick:q}=F,p=_t({rootOptions:{...F,preventScroll:a},rootOpen:K(l),rootActiveTrigger:K(d),nextFocusable:K(g),prevFocusable:K(u),selector:"menubar-menu",removeScroll:!1}),Q=dt({open:l,forceVisible:ee,activeTrigger:d}),z=_e(Ee("menu"),{stores:[Q,B,p.ids.menu,p.ids.trigger,E.menubar],returned:([f,_,R,ne,O])=>({role:"menu",hidden:f?void 0:!0,style:ut({display:f?void 0:"none"}),id:R,"aria-labelledby":ne,"data-state":f?"open":"closed","data-melt-scope":O,"data-portal":lt(_),tabindex:-1}),action:f=>{let _=Se;const R=se([l,d,P,B,L],([O,I,S,U,H])=>{_(),O&&I&&xe().then(()=>{_(),_=ft(f,{anchorElement:I,open:l,options:{floating:S,portal:bt(f,U),modal:{closeOnInteractOutside:H,shouldCloseOnInteractOutside:G=>{var Me;if((Me=q.get())==null||Me(G),G.defaultPrevented)return!1;const Ae=G.target,Ce=document.getElementById(E.menubar.get());return!Ce||!it(Ae)?!0:!Ce.contains(Ae)},onClose:()=>{i.set("")},open:O}}}).destroy})}),ne=he(re(f,"keydown",O=>{const I=O.target,S=O.currentTarget;if(!C(S)||!C(I)||(Be.includes(O.key)&&D(O),!(I.closest('[role="menu"]')===S)))return;ot.includes(O.key)&&ht(O),O.key===M.TAB&&(O.preventDefault(),d.set(null),l.set(!1),Et(O,g,u));const H=O.key.length===1;!(O.ctrlKey||O.altKey||O.metaKey)&&H&&p.helpers.handleTypeaheadSearch(O.key,Re(S))}));return{destroy(){R(),ne(),_()}}}}),Ie=_e(Ee("trigger"),{stores:[l,p.ids.menu,p.ids.trigger],returned:([f,_,R])=>({"aria-controls":_,"aria-expanded":f,"data-state":f?"open":"closed",id:R,"aria-haspopup":"menu","data-orientation":"horizontal",role:"menuitem"}),action:f=>{yt(f);const _=document.getElementById(E.menubar.get());if(!_)return{};const R=Array.from(_.querySelectorAll("[data-melt-menubar-trigger]"));if(!R.length)return{};const ne=se([o],([I])=>{!I&&R[0]===f||I===f?f.tabIndex=0:f.tabIndex=-1});R[0]===f?f.tabIndex=0:f.tabIndex=-1;const O=he(re(f,"click",I=>{const S=l.get(),U=I.currentTarget;C(U)&&(te(U),S||I.preventDefault())}),re(f,"keydown",I=>{const S=I.currentTarget;if(C(S)&&(at.includes(I.key)||I.key===M.ARROW_DOWN)){I.preventDefault(),te(S);const U=S.getAttribute("aria-controls");if(!U)return;const H=document.getElementById(U);if(!H)return;const G=Re(H);if(!G.length)return;Fe(G[0])}}),re(f,"pointerenter",I=>{const S=I.currentTarget;if(!C(S))return;const U=i.get(),H=l.get();U&&!H&&(l.set(!0),i.set(p.ids.menu.get()),d.set(S))}));return{destroy(){O(),ne()}}}});function te(f){l.update(_=>{const R=!_;return R?(g.set(gt(f)),u.set(mt(f)),d.set(f),i.set(p.ids.menu.get())):d.set(null),R})}return se([i],([f])=>{if(Y){if(f===p.ids.menu.get()){if(l.get())return;const _=document.getElementById(p.ids.trigger.get());if(!_)return;d.set(_),ve(_),l.set(!0);return}if(f!==p.ids.menu.get()){if(!Y)return;if(l.get()){const _=document.getElementById(p.ids.trigger.get());if(!_)return;d.set(null),l.set(!1),Ne(_)}return}}}),se([l],([f])=>{if(!Y)return;const _=document.getElementById(p.ids.trigger.get());if(_){if(!f&&i.get()===p.ids.menu.get()){d.set(null),i.set(""),Ne(_);return}f&&(o.set(_),ve(_))}}),Te(()=>{if(!Y)return;const f=document.getElementById(p.ids.trigger.get());C(f)&&l.get()&&d.set(f)}),{ids:p.ids,elements:{...p.elements,menu:z,trigger:Ie},builders:p.builders,states:p.states,options:F}};function D(b){if(!Y)return;b.preventDefault();const h=b.currentTarget,l=b.target;if(!C(l)||!C(h))return;const d=l.hasAttribute("data-melt-menubar-menu-subtrigger"),F=l.closest('[role="menu"]')!==h,P=M.ARROW_LEFT,B=b.key===P;if(!B&&d||B&&F)return;const L=document.getElementById(E.menubar.get());if(!C(L))return;const q=N(L),p=h.getAttribute("aria-labelledby"),Q=q.findIndex(f=>f.id===p);let z;switch(b.key){case M.ARROW_RIGHT:z=Q<q.length-1?Q+1:0;break;case M.ARROW_LEFT:z=Q>0?Q-1:q.length-1;break;case M.HOME:z=0;break;case M.END:z=q.length-1;break;default:return}const te=q[z].getAttribute("aria-controls");te&&i.set(te)}function N(b){const h=b.closest('[role="menubar"]');return C(h)?Array.from(h.querySelectorAll("[data-melt-menubar-trigger]")).filter(l=>C(l)):[]}function y(b){b.preventDefault();const h=document.activeElement,l=b.currentTarget;if(!C(l)||!C(h))return;const d=N(l);if(!d.length)return;const F=d.filter(L=>!(L.hasAttribute("data-disabled")||L.getAttribute("disabled")==="true")),P=F.indexOf(h);let B;const ee=r.get();switch(b.key){case M.ARROW_RIGHT:B=P<F.length-1?P+1:ee?0:P;break;case M.ARROW_LEFT:B=P>0?P-1:ee?F.length-1:0;break;case M.HOME:B=0;break;case M.END:B=F.length-1;break;default:return}Fe(F[B])}Te(()=>{if(!Y)return;const b=document.getElementById(E.menubar.get());if(!b)return;const h=he(re(b,"keydown",l=>{const d=l.target,F=l.currentTarget;!C(F)||!C(d)||!d.hasAttribute("data-melt-menubar-trigger")||Be.includes(l.key)&&y(l)}),rt(document,"keydown",l=>{s.get()&&l.key===M.ESCAPE&&(window.clearTimeout(c.get()),i.set(""))}));return()=>{h()}});const A=[];return se([i,a],([b,h])=>{!Y||!h||(b?k||(A.push(ct()),k=!0):(A.forEach(l=>l()),k=!1))}),st(()=>{A.forEach(b=>b())}),{ids:E,elements:{menubar:m},builders:{createMenu:v},options:n}}function oe(){return{NAME:"menubar",MENU_NAME:"menu",SUB_NAME:"menu-submenu",PARTS:["arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","separator","sub-content","sub-trigger","trigger"]}}function At(t){const{NAME:e,PARTS:n,MENU_NAME:r}=oe(),s=De(e,["root"]),a=De(r,n),i={...It(ke(t)),getAttrs:a,getMenubarAttrs:s};return ye(e,i),{...i,updateOption:pe(i.options)}}function Ct(){const{NAME:t}=oe();return Le(t)}function Mt(t){const{MENU_NAME:e}=oe(),{builders:{createMenu:n},getAttrs:r}=Ct(),s={...n({...ke(t),forceVisible:!1}),getAttrs:r};return ye(e,s),{...s,updateOption:pe(s.options)}}function Ze(){const{MENU_NAME:t}=oe();return Le(t)}function Tt(t){const{SUB_NAME:e}=oe(),{builders:{createSubmenu:n},getAttrs:r}=Ze(),s={...n(ke(t)),getAttrs:r};return ye(e,s),{...s,updateOption:pe(s.options)}}const St=t=>({builder:t&4,ids:t&8}),Ke=t=>({builder:t[2],ids:t[3]}),vt=t=>({builder:t&4,ids:t&8}),Pe=t=>({builder:t[2],ids:t[3]});function Nt(t){let e,n,r,s;const a=t[13].default,i=X(a,t,t[12],Ke);let g=[t[2],t[6]],u={};for(let o=0;o<g.length;o+=1)u=w(u,g[o]);return{c(){e=Ye("div"),i&&i.c(),this.h()},l(o){e=ze(o,"DIV",{});var c=Ge(e);i&&i.l(c),c.forEach(J),this.h()},h(){le(e,u)},m(o,c){de(o,e,c),i&&i.m(e,null),t[14](e),n=!0,r||(s=qe(t[2].action(e)),r=!0)},p(o,c){i&&i.p&&(!n||c&4108)&&Z(i,a,o,o[12],n?$(a,o[12],c,St):x(o[12]),Ke),le(e,u=Xe(g,[c&4&&o[2],c&64&&o[6]]))},i(o){n||(W(i,o),n=!0)},o(o){V(i,o),n=!1},d(o){o&&J(e),i&&i.d(o),t[14](null),r=!1,s()}}}function Ft(t){let e;const n=t[13].default,r=X(n,t,t[12],Pe);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),e=!0},p(s,a){r&&r.p&&(!e||a&4108)&&Z(r,n,s,s[12],e?$(n,s[12],a,vt):x(s[12]),Pe)},i(s){e||(W(r,s),e=!0)},o(s){V(r,s),e=!1},d(s){r&&r.d(s)}}}function Rt(t){let e,n,r,s;const a=[Ft,Nt],i=[];function g(u,o){return u[1]?0:1}return e=g(t),n=i[e]=a[e](t),{c(){n.c(),r=ue()},l(u){n.l(u),r=ue()},m(u,o){i[e].m(u,o),de(u,r,o),s=!0},p(u,[o]){let c=e;e=g(u),e===c?i[e].p(u,o):(we(),V(i[c],1,1,()=>{i[c]=null}),Je(),n=i[e],n?n.p(u,o):(n=i[e]=a[e](u),n.c()),W(n,1),n.m(r.parentNode,r))},i(u){s||(W(n),s=!0)},o(u){V(n),s=!1},d(u){u&&J(r),i[e].d(u)}}}function Dt(t,e,n){let r;const s=["loop","closeOnEscape","asChild","id","preventScroll","el"];let a=ae(e,s),i,g,{$$slots:u={},$$scope:o}=e,{loop:c=!0}=e,{closeOnEscape:k=!0}=e,{asChild:E=!1}=e,{id:m=void 0}=e,{preventScroll:T=void 0}=e,{el:v=void 0}=e;const{elements:{menubar:D},updateOption:N,ids:y,getMenubarAttrs:A}=At({loop:c,closeOnEscape:k,preventScroll:T});ie(t,D,d=>n(11,i=d));const b=Oe([y.menubar],([d])=>({menubar:d}));ie(t,b,d=>n(3,g=d));const h=A("root");function l(d){Qe[d?"unshift":"push"](()=>{v=d,n(0,v)})}return t.$$set=d=>{e=w(w({},e),je(d)),n(6,a=ae(e,s)),"loop"in d&&n(7,c=d.loop),"closeOnEscape"in d&&n(8,k=d.closeOnEscape),"asChild"in d&&n(1,E=d.asChild),"id"in d&&n(9,m=d.id),"preventScroll"in d&&n(10,T=d.preventScroll),"el"in d&&n(0,v=d.el),"$$scope"in d&&n(12,o=d.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&m&&y.menubar.set(m),t.$$.dirty&128&&N("loop",c),t.$$.dirty&256&&N("closeOnEscape",k),t.$$.dirty&1024&&N("preventScroll",T),t.$$.dirty&2048&&n(2,r=i),t.$$.dirty&4&&Object.assign(r,h)},[v,E,r,g,D,b,a,c,k,m,T,i,o,u,l]}class on extends fe{constructor(e){super(),ge(this,e,Dt,Rt,ce,{loop:7,closeOnEscape:8,asChild:1,id:9,preventScroll:10,el:0})}}const Bt=t=>({subIds:t&1}),Ue=t=>({subIds:t[0]});function Kt(t){let e;const n=t[6].default,r=X(n,t,t[5],Ue);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),e=!0},p(s,[a]){r&&r.p&&(!e||a&33)&&Z(r,n,s,s[5],e?$(n,s[5],a,Bt):x(s[5]),Ue)},i(s){e||(W(r,s),e=!0)},o(s){V(r,s),e=!1},d(s){r&&r.d(s)}}}function Pt(t,e,n){let r,{$$slots:s={},$$scope:a}=e,{disabled:i=void 0}=e,{open:g=void 0}=e,{onOpenChange:u=void 0}=e;const{updateOption:o,ids:c,states:{subOpen:k}}=Tt({disabled:i,onOpenChange:({next:m})=>(g!==m&&(u==null||u(m),n(2,g=m)),m)}),E=Oe([c.menu,c.trigger],([m,T])=>({menu:m,trigger:T}));return ie(t,E,m=>n(0,r=m)),t.$$set=m=>{"disabled"in m&&n(3,i=m.disabled),"open"in m&&n(2,g=m.open),"onOpenChange"in m&&n(4,u=m.onOpenChange),"$$scope"in m&&n(5,a=m.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&g!==void 0&&k.set(g),t.$$.dirty&8&&o("disabled",i)},[r,E,g,i,u,a,s]}class ln extends fe{constructor(e){super(),ge(this,e,Pt,Kt,ce,{disabled:3,open:2,onOpenChange:4})}}const Ut=t=>({menuIds:t&1}),Ve=t=>({menuIds:t[0]});function Vt(t){let e;const n=t[15].default,r=X(n,t,t[14],Ve);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),e=!0},p(s,[a]){r&&r.p&&(!e||a&16385)&&Z(r,n,s,s[14],e?$(n,s[14],a,Ut):x(s[14]),Ve)},i(s){e||(W(r,s),e=!0)},o(s){V(r,s),e=!1},d(s){r&&r.d(s)}}}function Wt(t,e,n){let r,{$$slots:s={},$$scope:a}=e,{closeOnOutsideClick:i=void 0}=e,{closeOnEscape:g=void 0}=e,{portal:u=void 0}=e,{open:o=void 0}=e,{onOpenChange:c=void 0}=e,{loop:k=void 0}=e,{dir:E=void 0}=e,{typeahead:m=void 0}=e,{closeFocus:T=void 0}=e,{disableFocusFirstItem:v=void 0}=e,{closeOnItemClick:D=void 0}=e,{onOutsideClick:N=void 0}=e;const{states:{open:y},updateOption:A,ids:b}=Mt({closeOnOutsideClick:i,closeOnEscape:g,portal:u,loop:k,dir:E,typeahead:m,closeFocus:T,disableFocusFirstItem:v,closeOnItemClick:D,onOutsideClick:N,onOpenChange:({next:l})=>(o!==l&&(c==null||c(l),n(2,o=l)),l)}),h=Oe([b.menu,b.trigger],([l,d])=>({menu:l,trigger:d}));return ie(t,h,l=>n(0,r=l)),t.$$set=l=>{"closeOnOutsideClick"in l&&n(3,i=l.closeOnOutsideClick),"closeOnEscape"in l&&n(4,g=l.closeOnEscape),"portal"in l&&n(5,u=l.portal),"open"in l&&n(2,o=l.open),"onOpenChange"in l&&n(6,c=l.onOpenChange),"loop"in l&&n(7,k=l.loop),"dir"in l&&n(8,E=l.dir),"typeahead"in l&&n(9,m=l.typeahead),"closeFocus"in l&&n(10,T=l.closeFocus),"disableFocusFirstItem"in l&&n(11,v=l.disableFocusFirstItem),"closeOnItemClick"in l&&n(12,D=l.closeOnItemClick),"onOutsideClick"in l&&n(13,N=l.onOutsideClick),"$$scope"in l&&n(14,a=l.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&o!==void 0&&y.set(o),t.$$.dirty&8&&A("closeOnOutsideClick",i),t.$$.dirty&16&&A("closeOnEscape",g),t.$$.dirty&32&&A("portal",u),t.$$.dirty&128&&A("loop",k),t.$$.dirty&256&&A("dir",E),t.$$.dirty&1024&&A("closeFocus",T),t.$$.dirty&2048&&A("disableFocusFirstItem",v),t.$$.dirty&512&&A("typeahead",m),t.$$.dirty&4096&&A("closeOnItemClick",D),t.$$.dirty&8192&&A("onOutsideClick",N)},[r,h,o,i,g,u,c,k,E,m,T,v,D,N,a,s]}class un extends fe{constructor(e){super(),ge(this,e,Wt,Vt,ce,{closeOnOutsideClick:3,closeOnEscape:4,portal:5,open:2,onOpenChange:6,loop:7,dir:8,typeahead:9,closeFocus:10,disableFocusFirstItem:11,closeOnItemClick:12,onOutsideClick:13})}}const Ht=t=>({builder:t&4}),We=t=>({builder:t[2]}),Lt=t=>({builder:t&4}),He=t=>({builder:t[2]});function qt(t){let e,n,r,s;const a=t[9].default,i=X(a,t,t[8],We);let g=[t[2],{type:"button"},t[5]],u={};for(let o=0;o<g.length;o+=1)u=w(u,g[o]);return{c(){e=Ye("button"),i&&i.c(),this.h()},l(o){e=ze(o,"BUTTON",{type:!0});var c=Ge(e);i&&i.l(c),c.forEach(J),this.h()},h(){le(e,u)},m(o,c){de(o,e,c),i&&i.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,r||(s=[qe(t[2].action(e)),me(e,"m-click",t[4]),me(e,"m-keydown",t[4]),me(e,"m-pointerenter",t[4])],r=!0)},p(o,c){i&&i.p&&(!n||c&260)&&Z(i,a,o,o[8],n?$(a,o[8],c,Ht):x(o[8]),We),le(e,u=Xe(g,[c&4&&o[2],{type:"button"},c&32&&o[5]]))},i(o){n||(W(i,o),n=!0)},o(o){V(i,o),n=!1},d(o){o&&J(e),i&&i.d(o),t[10](null),r=!1,$e(s)}}}function zt(t){let e;const n=t[9].default,r=X(n,t,t[8],He);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),e=!0},p(s,a){r&&r.p&&(!e||a&260)&&Z(r,n,s,s[8],e?$(n,s[8],a,Lt):x(s[8]),He)},i(s){e||(W(r,s),e=!0)},o(s){V(r,s),e=!1},d(s){r&&r.d(s)}}}function Gt(t){let e,n,r,s;const a=[zt,qt],i=[];function g(u,o){return u[1]?0:1}return e=g(t),n=i[e]=a[e](t),{c(){n.c(),r=ue()},l(u){n.l(u),r=ue()},m(u,o){i[e].m(u,o),de(u,r,o),s=!0},p(u,[o]){let c=e;e=g(u),e===c?i[e].p(u,o):(we(),V(i[c],1,1,()=>{i[c]=null}),Je(),n=i[e],n?n.p(u,o):(n=i[e]=a[e](u),n.c()),W(n,1),n.m(r.parentNode,r))},i(u){s||(W(n),s=!0)},o(u){V(n),s=!1},d(u){u&&J(r),i[e].d(u)}}}function Yt(t,e,n){let r;const s=["asChild","id","el"];let a=ae(e,s),i,{$$slots:g={},$$scope:u}=e,{asChild:o=!1}=e,{id:c=void 0}=e,{el:k=void 0}=e;const{elements:{trigger:E},ids:m,getAttrs:T}=Ze();ie(t,E,y=>n(7,i=y));const v=Ot(),D=T("trigger");function N(y){Qe[y?"unshift":"push"](()=>{k=y,n(0,k)})}return t.$$set=y=>{e=w(w({},e),je(y)),n(5,a=ae(e,s)),"asChild"in y&&n(1,o=y.asChild),"id"in y&&n(6,c=y.id),"el"in y&&n(0,k=y.el),"$$scope"in y&&n(8,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.trigger.set(c),t.$$.dirty&128&&n(2,r=i),t.$$.dirty&4&&Object.assign(r,D)},[k,o,r,E,v,a,c,i,u,g,N]}class an extends fe{constructor(e){super(),ge(this,e,Yt,Gt,ce,{asChild:1,id:6,el:0})}}export{on as M,an as a,un as b,ln as c};
