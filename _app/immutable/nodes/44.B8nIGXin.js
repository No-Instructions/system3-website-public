import{s as Qe,d as i,i as D,p as r,c as d,e as v,h as f,ab as je,aa as ve,b as n,f as ie,g as w,t as oe,j as E,a as Je,n as Ce,q as se,r as Xe,_ as pe,P as ze,Z as _e,C as $e,N as me,O as ge,Y as Re}from"../chunks/scheduler.D_DiFEDa.js";import{S as et,i as tt,j as lt,a as qe,g as st,t as at,f as rt,k as it}from"../chunks/index.uqldPLAT.js";import{e as Z}from"../chunks/each.8prNeyls.js";import{f as Be}from"../chunks/index.d7NS32TL.js";function Ue(o,e,l){const a=o.slice();return a[5]=e[l],a}function ot(o,e,l){const a=o.slice();return a[8]=e[l],a[10]=l,a}function Oe(o,e,l){const a=o.slice();return a[11]=e[l],a}function Ge(o,e,l){const a=o.slice();return a[14]=e[l],a[10]=l,a}function nt(o){let e;return{c(){e=f("div"),this.h()},l(l){e=d(l,"DIV",{class:!0}),v(e).forEach(i),this.h()},h(){r(e,"class","absolute left-[calc(100%+1rem)] top-8 h-0.5 w-8 bg-muted")},m(l,a){D(l,e,a)},d(l){l&&i(e)}}}function Ke(o){let e,l,a,c=o[14].icon+"",u,h,H,p,_=o[14].title+"",I,M,U,V=o[10]<o[3].length-1&&nt();return{c(){e=f("div"),l=f("div"),a=f("span"),u=oe(c),H=E(),p=f("span"),I=oe(_),M=E(),V&&V.c(),U=E(),this.h()},l(g){e=d(g,"DIV",{class:!0});var b=v(e);l=d(b,"DIV",{class:!0});var T=v(l);a=d(T,"SPAN",{class:!0});var P=v(a);u=ie(P,c),P.forEach(i),T.forEach(i),H=w(b),p=d(b,"SPAN",{class:!0});var ae=v(p);I=ie(ae,_),ae.forEach(i),M=w(b),V&&V.l(b),U=w(b),b.forEach(i),this.h()},h(){r(a,"class","text-2xl"),r(l,"class",h=je(`flex h-16 w-16 items-center justify-center rounded-full border-2 transition-colors ${o[10]===o[0]?"border-primary bg-primary/10":"border-muted"}`)+" svelte-12so3w3"),r(p,"class","text-sm font-medium"),r(e,"class","flex flex-col items-center gap-4 transition-all duration-300"),ve(e,"opacity-50",o[10]!==o[0]),ve(e,"scale-110",o[10]===o[0])},m(g,b){D(g,e,b),n(e,l),n(l,a),n(a,u),n(e,H),n(e,p),n(p,I),n(e,M),V&&V.m(e,null),n(e,U)},p(g,b){b&1&&h!==(h=je(`flex h-16 w-16 items-center justify-center rounded-full border-2 transition-colors ${g[10]===g[0]?"border-primary bg-primary/10":"border-muted"}`)+" svelte-12so3w3")&&r(l,"class",h),b&1&&ve(e,"opacity-50",g[10]!==g[0]),b&1&&ve(e,"scale-110",g[10]===g[0])},d(g){g&&i(e),V&&V.d()}}}function We(o){let e,l,a,c,u=o[11]+"",h,H;return{c(){e=f("div"),l=f("span"),a=E(),c=f("span"),h=oe(u),H=E(),this.h()},l(p){e=d(p,"DIV",{class:!0});var _=v(e);l=d(_,"SPAN",{class:!0}),v(l).forEach(i),a=w(_),c=d(_,"SPAN",{});var I=v(c);h=ie(I,u),I.forEach(i),H=w(_),_.forEach(i),this.h()},h(){r(l,"class","h-2 w-2 rounded-full bg-primary"),r(e,"class","flex items-center gap-3")},m(p,_){D(p,e,_),n(e,l),n(e,a),n(e,c),n(c,h),n(e,H)},p(p,_){_&1&&u!==(u=p[11]+"")&&Je(h,u)},d(p){p&&i(e)}}}function ct(o){let e,l='<span class="text-2xl">üíª</span> <div class="absolute left-1/2 top-1/2 h-16 w-16 -translate-x-1/2 -translate-y-1/2 rounded-full border-2 border-primary/10"></div> ';return{c(){e=f("div"),e.innerHTML=l,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-brpv26"&&(e.innerHTML=l),this.h()},h(){r(e,"class","relative")},m(a,c){D(a,e,c)},p:Ce,d(a){a&&i(e)}}}function Ye(o){let e,l,a,c;return{c(){e=f("div"),this.h()},l(u){e=d(u,"DIV",{class:!0,style:!0}),v(e).forEach(i),this.h()},h(){r(e,"class","absolute h-2 w-2 rounded-full bg-primary transition-all duration-1000"),pe(e,"left",o[5].x+"%"),pe(e,"top",o[5].y+"%")},m(u,h){D(u,e,h),c=!0},p(u,h){(!c||h&4)&&pe(e,"left",u[5].x+"%"),(!c||h&4)&&pe(e,"top",u[5].y+"%")},i(u){c||(u&&Xe(()=>{c&&(a&&a.end(1),l=it(e,Be,{}),l.start())}),c=!0)},o(u){l&&l.invalidate(),u&&(a=lt(e,Be,{})),c=!1},d(u){u&&i(e),u&&a&&a.end()}}}function Ze(o){let e,l=o[5].active&&Ye(o);return{c(){l&&l.c(),e=ze()},l(a){l&&l.l(a),e=ze()},m(a,c){l&&l.m(a,c),D(a,e,c)},p(a,c){a[5].active?l?(l.p(a,c),c&4&&qe(l,1)):(l=Ye(a),l.c(),qe(l,1),l.m(e.parentNode,e)):l&&(st(),at(l,1,1,()=>{l=null}),rt())},d(a){a&&i(e),l&&l.d(a)}}}function ut(o){let e,l=`<div class="prose"><h1>How it works sandbox</h1> <p>This page experiments with ways to visualize Relay&#39;s technical workflow. Goals:</p> <ol><li>Show the complete flow from local edit to synchronized state</li> <li>Build trust by explaining our technical approach</li> <li>Demonstrate why CRDTs matter for collaboration</li> <li>Keep it simple enough for non-technical users</li></ol> <h3>Current visualization attempts:</h3> <ol><li><strong>Stage progression</strong> ‚Äî Shows the four main stages with animated transitions</li> <li><strong>Update flow</strong> ‚Äî Visualizes how changes move through the system</li></ol> <p>Challenge: Balance technical accuracy with accessibility. Should explain enough to build
			trust without overwhelming users with details.</p></div>`,a,c,u,h,H='<nav class="flex gap-4 text-sm text-muted-foreground"><a href="/sandbox/core">Core features</a> <a href="/sandbox/testimonials">Social proof</a> <a href="/sandbox/work">Work</a> <span class="font-semibold text-primary">How it works</span> <a href="/sandbox/use-cases">Use cases</a></nav>',p,_,I,M,U,V,g,b,T,P,ae="How it works",be,O,ye,z,J,re=o[3][o[0]].title+"",ne,xe,G,ce,K,Q,R,W,Ie="See updates flow",ke,S,Y,Ve='<div class="relative"><span class="text-4xl">üõ∞Ô∏è</span> <div class="absolute left-1/2 top-1/2 h-32 w-32 -translate-x-1/2 -translate-y-1/2 animate-pulse rounded-full border-4 border-primary/20 svelte-12so3w3"></div></div>',we,X,Ee,ue,q,A,N,F,De,Te,$=Z(o[3]),y=[];for(let t=0;t<$.length;t+=1)y[t]=Ke(Ge(o,$,t));let ee=Z(o[3][o[0]].steps),x=[];for(let t=0;t<ee.length;t+=1)x[t]=We(Oe(o,ee,t));let Se=Z(Array(3)),j=[];for(let t=0;t<Se.length;t+=1)j[t]=ct(ot(o,Se,t));let te=Z(o[2]),k=[];for(let t=0;t<te.length;t+=1)k[t]=Ze(Ue(o,te,t));return{c(){e=f("div"),e.innerHTML=l,a=E(),c=f("hr"),u=E(),h=f("div"),h.innerHTML=H,p=E(),_=f("div"),I=f("label"),M=f("input"),U=oe(`
		Auto-advance stages`),V=E(),g=f("section"),b=f("div"),T=f("div"),P=f("h2"),P.textContent=ae,be=E(),O=f("div");for(let t=0;t<y.length;t+=1)y[t].c();ye=E(),z=f("div"),J=f("h3"),ne=oe(re),xe=E(),G=f("div");for(let t=0;t<x.length;t+=1)x[t].c();ce=E(),K=f("section"),Q=f("div"),R=f("div"),W=f("h2"),W.textContent=Ie,ke=E(),S=f("div"),Y=f("div"),Y.innerHTML=Ve,we=E(),X=f("div");for(let t=0;t<j.length;t+=1)j[t].c();Ee=E();for(let t=0;t<k.length;t+=1)k[t].c();ue=E(),q=ge("svg"),A=ge("line"),N=ge("line"),F=ge("line"),this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-135kl5k"&&(e.innerHTML=l),a=w(t),c=d(t,"HR",{class:!0}),u=w(t),h=d(t,"DIV",{class:!0,"data-svelte-h":!0}),se(h)!=="svelte-kqk78q"&&(h.innerHTML=H),p=w(t),_=d(t,"DIV",{class:!0});var m=v(_);I=d(m,"LABEL",{class:!0});var s=v(I);M=d(s,"INPUT",{type:!0}),U=ie(s,`
		Auto-advance stages`),s.forEach(i),m.forEach(i),V=w(t),g=d(t,"SECTION",{class:!0});var L=v(g);b=d(L,"DIV",{class:!0});var He=v(b);T=d(He,"DIV",{class:!0});var le=v(T);P=d(le,"H2",{class:!0,"data-svelte-h":!0}),se(P)!=="svelte-zn69ve"&&(P.textContent=ae),be=w(le),O=d(le,"DIV",{class:!0});var Me=v(O);for(let C=0;C<y.length;C+=1)y[C].l(Me);Me.forEach(i),ye=w(le),z=d(le,"DIV",{class:!0});var de=v(z);J=d(de,"H3",{class:!0});var Le=v(J);ne=ie(Le,re),Le.forEach(i),xe=w(de),G=d(de,"DIV",{class:!0});var Pe=v(G);for(let C=0;C<x.length;C+=1)x[C].l(Pe);Pe.forEach(i),de.forEach(i),le.forEach(i),He.forEach(i),L.forEach(i),ce=w(t),K=d(t,"SECTION",{class:!0});var Ae=v(K);Q=d(Ae,"DIV",{class:!0});var Ne=v(Q);R=d(Ne,"DIV",{class:!0});var fe=v(R);W=d(fe,"H2",{class:!0,"data-svelte-h":!0}),se(W)!=="svelte-l39d38"&&(W.textContent=Ie),ke=w(fe),S=d(fe,"DIV",{class:!0});var B=v(S);Y=d(B,"DIV",{class:!0,"data-svelte-h":!0}),se(Y)!=="svelte-1400srm"&&(Y.innerHTML=Ve),we=w(B),X=d(B,"DIV",{class:!0});var Fe=v(X);for(let C=0;C<j.length;C+=1)j[C].l(Fe);Fe.forEach(i),Ee=w(B);for(let C=0;C<k.length;C+=1)k[C].l(B);ue=w(B),q=me(B,"svg",{class:!0});var he=v(q);A=me(he,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0,"stroke-width":!0}),v(A).forEach(i),N=me(he,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0,"stroke-width":!0}),v(N).forEach(i),F=me(he,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0,"stroke-width":!0}),v(F).forEach(i),he.forEach(i),B.forEach(i),fe.forEach(i),Ne.forEach(i),Ae.forEach(i),this.h()},h(){r(e,"class","container py-8"),r(c,"class","my-8 border-t"),r(h,"class","container py-4"),r(M,"type","checkbox"),r(I,"class","flex items-center gap-2"),r(_,"class","container py-4"),r(P,"class","mb-16 text-center text-3xl font-semibold"),r(O,"class","mb-12 flex justify-between"),r(J,"class","mb-4 text-xl font-semibold"),r(G,"class","space-y-4"),r(z,"class","rounded-lg border bg-background p-8"),r(T,"class","mx-auto max-w-[780px]"),r(b,"class","container"),r(g,"class","border-y bg-secondary/50 py-24"),r(W,"class","mb-16 text-center text-3xl font-semibold"),r(Y,"class","absolute left-1/2 top-1/4 -translate-x-1/2 transform"),r(X,"class","absolute bottom-0 flex w-full justify-between px-12"),r(A,"x1","50%"),r(A,"y1","25%"),r(A,"x2","20%"),r(A,"y2","75%"),r(A,"class","stroke-primary/30"),r(A,"stroke-width","2"),r(N,"x1","50%"),r(N,"y1","25%"),r(N,"x2","50%"),r(N,"y2","75%"),r(N,"class","stroke-primary/30"),r(N,"stroke-width","2"),r(F,"x1","50%"),r(F,"y1","25%"),r(F,"x2","80%"),r(F,"y2","75%"),r(F,"class","stroke-primary/30"),r(F,"stroke-width","2"),r(q,"class","absolute inset-0 h-full w-full"),r(S,"class","relative h-[400px] rounded-lg border bg-background p-8"),r(R,"class","mx-auto max-w-[780px]"),r(Q,"class","container"),r(K,"class","py-24")},m(t,m){D(t,e,m),D(t,a,m),D(t,c,m),D(t,u,m),D(t,h,m),D(t,p,m),D(t,_,m),n(_,I),n(I,M),M.checked=o[1],n(I,U),D(t,V,m),D(t,g,m),n(g,b),n(b,T),n(T,P),n(T,be),n(T,O);for(let s=0;s<y.length;s+=1)y[s]&&y[s].m(O,null);n(T,ye),n(T,z),n(z,J),n(J,ne),n(z,xe),n(z,G);for(let s=0;s<x.length;s+=1)x[s]&&x[s].m(G,null);D(t,ce,m),D(t,K,m),n(K,Q),n(Q,R),n(R,W),n(R,ke),n(R,S),n(S,Y),n(S,we),n(S,X);for(let s=0;s<j.length;s+=1)j[s]&&j[s].m(X,null);n(S,Ee);for(let s=0;s<k.length;s+=1)k[s]&&k[s].m(S,null);n(S,ue),n(S,q),n(q,A),n(q,N),n(q,F),De||(Te=$e(M,"change",o[4]),De=!0)},p(t,[m]){if(m&2&&(M.checked=t[1]),m&9){$=Z(t[3]);let s;for(s=0;s<$.length;s+=1){const L=Ge(t,$,s);y[s]?y[s].p(L,m):(y[s]=Ke(L),y[s].c(),y[s].m(O,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=$.length}if(m&1&&re!==(re=t[3][t[0]].title+"")&&Je(ne,re),m&9){ee=Z(t[3][t[0]].steps);let s;for(s=0;s<ee.length;s+=1){const L=Oe(t,ee,s);x[s]?x[s].p(L,m):(x[s]=We(L),x[s].c(),x[s].m(G,null))}for(;s<x.length;s+=1)x[s].d(1);x.length=ee.length}if(m&4){te=Z(t[2]);let s;for(s=0;s<te.length;s+=1){const L=Ue(t,te,s);k[s]?k[s].p(L,m):(k[s]=Ze(L),k[s].c(),k[s].m(S,ue))}for(;s<k.length;s+=1)k[s].d(1);k.length=te.length}},i:Ce,o:Ce,d(t){t&&(i(e),i(a),i(c),i(u),i(h),i(p),i(_),i(V),i(g),i(ce),i(K)),_e(y,t),_e(x,t),_e(j,t),_e(k,t),De=!1,Te()}}}function dt(o,e,l){const a=[{title:"Pull changes",icon:"‚¨áÔ∏è",steps:["Check for updates","Download changes from other clients","Convert to local format"]},{title:"Track changes",icon:"üìù",steps:["Local edits converted to CRDT operations","Each keystroke becomes an atomic update"]},{title:"Relay updates",icon:"üõ∞Ô∏è",steps:["Updates sent to relay server","Server broadcasts to all connected clients"]},{title:"Process updates",icon:"‚ú®",steps:["Clients receive updates","Changes integrated automatically","Document state updated"]}];let c=0,u=!0;Re(()=>{const p=()=>{u&&(l(0,c=(c+1)%a.length),setTimeout(p,3e3))};setTimeout(p,3e3)});let h=[];Re(()=>{const p=()=>{const _={x:Math.random()*100,y:Math.random()*100,active:!0};l(2,h=[...h,_]),setTimeout(()=>{_.active=!1,l(2,h)},1e3),setTimeout(p,Math.random()*1e3+500)};p()});function H(){u=this.checked,l(1,u)}return[c,u,h,a,H]}class _t extends et{constructor(e){super(),tt(this,e,dt,ut,Qe,{})}}export{_t as component};
