import{s as I,d as c,i as g,f as F,t as j,z as J,a as L,g as k,j as C,T as W,U as G,p as D,c as N,h as A,b as U,W as H,e as K,k as O,a3 as R}from"./scheduler.D_DiFEDa.js";import{S as Q,i as X,d as b,t as _,a as d,m as h,c as v,b as w,h as Z}from"./index.uqldPLAT.js";import{g as y,a as x}from"./spread.CgU5AtxT.js";import{z as Y}from"./index.Cj8yNO9G.js";import{C as ee}from"./calendar.D-KHoyYg.js";import{$ as P,g as E,f as te,e as ae,h as re}from"./index.9B820uFl.js";import{S as oe,s as ne,z as se}from"./index.DhfbqFPB.js";import"./index.DYMvb8Iz.js";import{e as fe,C as le,a as $e,F as me,b as ue,t as q}from"./form-demo.I_FsgVaC.js";import{p as ie}from"./stores.CojdI0bh.js";import{c as B}from"./utils.C8VhKZ24.js";import{b as M,B as pe}from"./index.oJb_0on9.js";import{C as ce}from"./calendar-prev-button.CU-AFCqW.js";import{R as _e,T as de,P as ge}from"./index.B5BtY-rM.js";function be(s){let e;return{c(){e=j("Date of birth")},l(a){e=F(a,"Date of birth")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function he(s){let e=(s[1]?s[6].format(s[1].toDate(P())):"Pick a date")+"",a,t,f,l;return f=new ee({props:{class:"ml-auto h-4 w-4 opacity-50"}}),{c(){a=j(e),t=C(),w(f.$$.fragment)},l(o){a=F(o,e),t=k(o),v(f.$$.fragment,o)},m(o,r){g(o,a,r),g(o,t,r),h(f,o,r),l=!0},p(o,r){(!l||r&2)&&e!==(e=(o[1]?o[6].format(o[1].toDate(P())):"Pick a date")+"")&&L(a,e)},i(o){l||(d(f.$$.fragment,o),l=!0)},o(o){_(f.$$.fragment,o),l=!1},d(o){o&&(c(a),c(t)),b(f,o)}}}function ve(s){let e,a,t;function f(o){s[9](o)}let l={value:s[1],minValue:new te(1900,1,1),maxValue:E(P()),calendarLabel:"Date of birth",initialFocus:!0,onValueChange:s[8]};return s[2]!==void 0&&(l.placeholder=s[2]),e=new ce({props:l}),W.push(()=>Z(e,"placeholder",f)),{c(){w(e.$$.fragment)},l(o){v(e.$$.fragment,o)},m(o,r){h(e,o,r),t=!0},p(o,r){const i={};r&2&&(i.value=o[1]),r&1&&(i.onValueChange=o[8]),!a&&r&4&&(a=!0,i.placeholder=o[2],G(()=>a=!1)),e.$set(i)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){b(e,o)}}}function we(s){let e,a,t,f;const l=[s[11],{class:B(M({variant:"outline"}),"w-[280px] justify-start pl-4 text-left font-normal",!s[1]&&"text-muted-foreground")}];let o={$$slots:{default:[he]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)o=J(o,l[r]);return e=new de({props:o}),t=new ge({props:{class:"w-auto p-0",side:"top",$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment),a=C(),w(t.$$.fragment)},l(r){v(e.$$.fragment,r),a=k(r),v(t.$$.fragment,r)},m(r,i){h(e,r,i),g(r,a,i),h(t,r,i),f=!0},p(r,i){const m=i&2050?y(l,[i&2048&&x(r[11]),i&2&&{class:B(M({variant:"outline"}),"w-[280px] justify-start pl-4 text-left font-normal",!r[1]&&"text-muted-foreground")}]):{};i&4098&&(m.$$scope={dirty:i,ctx:r}),e.$set(m);const u={};i&4103&&(u.$$scope={dirty:i,ctx:r}),t.$set(u)},i(r){f||(d(e.$$.fragment,r),d(t.$$.fragment,r),f=!0)},o(r){_(e.$$.fragment,r),_(t.$$.fragment,r),f=!1},d(r){r&&c(a),b(e,r),b(t,r)}}}function Se(s){let e;return{c(){e=j("Your date of birth is used to calculator your age")},l(a){e=F(a,"Your date of birth is used to calculator your age")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function ke(s){let e,a,t,f,l,o,r,i,m,u,p,S;return e=new $e({props:{$$slots:{default:[be]},$$scope:{ctx:s}}}),t=new _e({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),l=new me({props:{$$slots:{default:[Se]},$$scope:{ctx:s}}}),r=new ue({}),{c(){w(e.$$.fragment),a=C(),w(t.$$.fragment),f=C(),w(l.$$.fragment),o=C(),w(r.$$.fragment),i=C(),m=A("input"),this.h()},l(n){v(e.$$.fragment,n),a=k(n),v(t.$$.fragment,n),f=k(n),v(l.$$.fragment,n),o=k(n),v(r.$$.fragment,n),i=k(n),m=N(n,"INPUT",{name:!0}),this.h()},h(){m.hidden=!0,m.value=u=s[0].dob,D(m,"name",p=s[11].name)},m(n,$){h(e,n,$),g(n,a,$),h(t,n,$),g(n,f,$),h(l,n,$),g(n,o,$),h(r,n,$),g(n,i,$),g(n,m,$),S=!0},p(n,$){const T={};$&4096&&(T.$$scope={dirty:$,ctx:n}),e.$set(T);const V={};$&6151&&(V.$$scope={dirty:$,ctx:n}),t.$set(V);const z={};$&4096&&(z.$$scope={dirty:$,ctx:n}),l.$set(z),(!S||$&1&&u!==(u=n[0].dob)&&m.value!==u)&&(m.value=u),(!S||$&2048&&p!==(p=n[11].name))&&D(m,"name",p)},i(n){S||(d(e.$$.fragment,n),d(t.$$.fragment,n),d(l.$$.fragment,n),d(r.$$.fragment,n),S=!0)},o(n){_(e.$$.fragment,n),_(t.$$.fragment,n),_(l.$$.fragment,n),_(r.$$.fragment,n),S=!1},d(n){n&&(c(a),c(f),c(o),c(i),c(m)),b(e,n),b(t,n),b(l,n),b(r,n)}}}function Ce(s){let e,a;return e=new le({props:{$$slots:{default:[ke,({attrs:t})=>({11:t}),({attrs:t})=>t?2048:0]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,f){h(e,t,f),a=!0},p(t,f){const l={};f&6151&&(l.$$scope={dirty:f,ctx:t}),e.$set(l)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){_(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function De(s){let e;return{c(){e=j("Submit")},l(a){e=F(a,"Submit")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function Pe(s){let e,a;return e=new oe({props:{data:s[0]}}),{c(){w(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,f){h(e,t,f),a=!0},p(t,f){const l={};f&1&&(l.data=t[0]),e.$set(l)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){_(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Fe(s){let e,a,t,f,l,o,r,i;a=new fe({props:{form:s[3],name:"dob",class:"flex flex-col",$$slots:{default:[Ce]},$$scope:{ctx:s}}}),f=new pe({props:{type:"submit",$$slots:{default:[De]},$$scope:{ctx:s}}});let m=Pe(s);return{c(){e=A("form"),w(a.$$.fragment),t=C(),w(f.$$.fragment),l=C(),m&&m.c(),this.h()},l(u){e=N(u,"FORM",{method:!0,action:!0,class:!0});var p=K(e);v(a.$$.fragment,p),t=k(p),v(f.$$.fragment,p),l=k(p),m&&m.l(p),p.forEach(c),this.h()},h(){D(e,"method","POST"),D(e,"action","/?/datePicker"),D(e,"class","space-y-8")},m(u,p){g(u,e,p),h(a,e,null),U(e,t),h(f,e,null),U(e,l),m&&m.m(e,null),o=!0,r||(i=H(s[5].call(null,e)),r=!0)},p(u,[p]){const S={};p&4103&&(S.$$scope={dirty:p,ctx:u}),a.$set(S);const n={};p&4096&&(n.$$scope={dirty:p,ctx:u}),f.$set(n),m.p(u,p)},i(u){o||(d(a.$$.fragment,u),d(f.$$.fragment,u),d(m),o=!0)},o(u){_(a.$$.fragment,u),_(f.$$.fragment,u),_(m),o=!1},d(u){u&&c(e),b(a),b(f),m&&m.d(),r=!1,i()}}}const je=Y.object({dob:Y.string().refine(s=>s,{message:"A date of birth is required."})});function Te(s,e,a){let t,f;O(s,ie,$=>a(10,f=$));let{form:l=f.data.datePicker}=e;const o=ne(l,{validators:se(je),taintedMessage:null,onUpdated:({form:$})=>{$.valid?q.success(`You submitted ${JSON.stringify($.data,null,2)}`):q.error("Please fix the errors in the form.")}}),{form:r,enhance:i}=o;O(s,r,$=>a(0,t=$));const m=new ae("en-US",{dateStyle:"long"});let u,p=E(P());const S=$=>{$?R(r,t.dob=$.toString(),t):R(r,t.dob="",t)};function n($){p=$,a(2,p)}return s.$$set=$=>{"form"in $&&a(7,l=$.form)},s.$$.update=()=>{s.$$.dirty&1&&a(1,u=t.dob?re(t.dob):void 0)},[t,u,p,o,r,i,m,l,S,n]}class Le extends Q{constructor(e){super(),X(this,e,Te,Fe,I,{form:7})}}export{Le as default,je as formSchema};
