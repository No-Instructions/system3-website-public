import{s as Y,d as c,i as _,f as x,t as z,z as N,T as U,n as A,c as O,q as E,h as P,U as J,g as F,j as S,b as q,W as M,p as C,e as R,k as B}from"./scheduler.D_DiFEDa.js";import{S as W,i as G,h as H,d as g,t as p,a as d,m as b,c as h,b as v}from"./index.uqldPLAT.js";import{g as I,a as K}from"./spread.CgU5AtxT.js";import{z as j}from"./index.Cj8yNO9G.js";import{C as L,a as Q,b as V,S as X,s as Z,z as y}from"./index.DuxNWIpY.js";import"./index.DYMvb8Iz.js";import{t as D}from"./form-demo.DXtuK9ec.js";import{p as ee}from"./stores.D4u8pRqT.js";import{T as te}from"./textarea.TNotsiSL.js";import{F as ae}from"./form-field.BRDHVMRM.js";import{F as re}from"./form-description.DczNpFE_.js";import{F as se}from"./form-field-errors.Qciy6jpa.js";function oe(m){let e;return{c(){e=z("Bio")},l(r){e=x(r,"Bio")},m(r,s){_(r,e,s)},d(r){r&&c(e)}}}function ne(m){let e,r,s="@mention",n;return{c(){e=z("You can "),r=P("span"),r.textContent=s,n=z(" other users and organizations.")},l(a){e=x(a,"You can "),r=O(a,"SPAN",{"data-svelte-h":!0}),E(r)!=="svelte-q0lew0"&&(r.textContent=s),n=x(a," other users and organizations.")},m(a,f){_(a,e,f),_(a,r,f),_(a,n,f)},p:A,d(a){a&&(c(e),c(r),c(n))}}}function fe(m){let e,r,s,n,a,f,l;e=new Q({props:{$$slots:{default:[oe]},$$scope:{ctx:m}}});const $=[m[7],{placeholder:"Tell us a little bit about yourself"},{class:"resize-none"}];function i(t){m[5](t)}let o={};for(let t=0;t<$.length;t+=1)o=N(o,$[t]);return m[0].bio!==void 0&&(o.value=m[0].bio),s=new te({props:o}),U.push(()=>H(s,"value",i)),f=new re({props:{$$slots:{default:[ne]},$$scope:{ctx:m}}}),{c(){v(e.$$.fragment),r=S(),v(s.$$.fragment),a=S(),v(f.$$.fragment)},l(t){h(e.$$.fragment,t),r=F(t),h(s.$$.fragment,t),a=F(t),h(f.$$.fragment,t)},m(t,u){b(e,t,u),_(t,r,u),b(s,t,u),_(t,a,u),b(f,t,u),l=!0},p(t,u){const w={};u&256&&(w.$$scope={dirty:u,ctx:t}),e.$set(w);const T=u&128?I($,[K(t[7]),$[1],$[2]]):{};!n&&u&1&&(n=!0,T.value=t[0].bio,J(()=>n=!1)),s.$set(T);const k={};u&256&&(k.$$scope={dirty:u,ctx:t}),f.$set(k)},i(t){l||(d(e.$$.fragment,t),d(s.$$.fragment,t),d(f.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),p(f.$$.fragment,t),l=!1},d(t){t&&(c(r),c(a)),g(e,t),g(s,t),g(f,t)}}}function me(m){let e,r,s,n;return e=new L({props:{$$slots:{default:[fe,({attrs:a})=>({7:a}),({attrs:a})=>a?128:0]},$$scope:{ctx:m}}}),s=new se({}),{c(){v(e.$$.fragment),r=S(),v(s.$$.fragment)},l(a){h(e.$$.fragment,a),r=F(a),h(s.$$.fragment,a)},m(a,f){b(e,a,f),_(a,r,f),b(s,a,f),n=!0},p(a,f){const l={};f&385&&(l.$$scope={dirty:f,ctx:a}),e.$set(l)},i(a){n||(d(e.$$.fragment,a),d(s.$$.fragment,a),n=!0)},o(a){p(e.$$.fragment,a),p(s.$$.fragment,a),n=!1},d(a){a&&c(r),g(e,a),g(s,a)}}}function le(m){let e;return{c(){e=z("Submit")},l(r){e=x(r,"Submit")},m(r,s){_(r,e,s)},d(r){r&&c(e)}}}function ie(m){let e,r;return e=new X({props:{data:m[0]}}),{c(){v(e.$$.fragment)},l(s){h(e.$$.fragment,s)},m(s,n){b(e,s,n),r=!0},p(s,n){const a={};n&1&&(a.data=s[0]),e.$set(a)},i(s){r||(d(e.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),r=!1},d(s){g(e,s)}}}function ue(m){let e,r,s,n,a,f,l,$;r=new ae({props:{form:m[1],name:"bio",$$slots:{default:[me]},$$scope:{ctx:m}}}),n=new V({props:{$$slots:{default:[le]},$$scope:{ctx:m}}});let i=ie(m);return{c(){e=P("form"),v(r.$$.fragment),s=S(),v(n.$$.fragment),a=S(),i&&i.c(),this.h()},l(o){e=O(o,"FORM",{method:!0,action:!0,class:!0});var t=R(e);h(r.$$.fragment,t),s=F(t),h(n.$$.fragment,t),a=F(t),i&&i.l(t),t.forEach(c),this.h()},h(){C(e,"method","POST"),C(e,"action","/?/textarea"),C(e,"class","w-2/3 space-y-6")},m(o,t){_(o,e,t),b(r,e,null),q(e,s),b(n,e,null),q(e,a),i&&i.m(e,null),f=!0,l||($=M(m[3].call(null,e)),l=!0)},p(o,[t]){const u={};t&257&&(u.$$scope={dirty:t,ctx:o}),r.$set(u);const w={};t&256&&(w.$$scope={dirty:t,ctx:o}),n.$set(w),i.p(o,t)},i(o){f||(d(r.$$.fragment,o),d(n.$$.fragment,o),d(i),f=!0)},o(o){p(r.$$.fragment,o),p(n.$$.fragment,o),p(i),f=!1},d(o){o&&c(e),g(r),g(n),i&&i.d(),l=!1,$()}}}const $e=j.object({bio:j.string().min(10,"Bio must be at least 10 characters.").max(160,"Bio must be at most 160 characters.")});function ce(m,e,r){let s,n;B(m,ee,o=>r(6,s=o));let{form:a=s.data.textarea}=e;const f=Z(a,{validators:y($e),onUpdated:({form:o})=>{o.valid?D.success(`You submitted ${JSON.stringify(o.data,null,2)}`):D.error("Please fix the errors in the form.")}}),{form:l,enhance:$}=f;B(m,l,o=>r(0,n=o));function i(o){m.$$.not_equal(n.bio,o)&&(n.bio=o,l.set(n))}return m.$$set=o=>{"form"in o&&r(4,a=o.form)},[n,f,l,$,a,i]}class Ce extends W{constructor(e){super(),G(this,e,ce,ue,Y,{form:4})}}export{Ce as default,$e as formSchema};
