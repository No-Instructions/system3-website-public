import{L as We,ad as je,Q as qe,s as fe,l as B,u as N,m as p,o as R,k as se,z as V,d as y,w as J,r as de,A as P,i as j,W as Z,C as M,c as w,e as x,h as $,P as re,D as ue,E as Me,T as X}from"./scheduler.D_DiFEDa.js";import{S as ce,i as _e,t as I,a as F,e as he,j as Ve,g as Ke,f as Be,k as Ne}from"./index.uqldPLAT.js";import{w as ae,d as pe}from"./index.BUY9SMGD.js";import{g as ee}from"./spread.CgU5AtxT.js";import{t as ze,o as Ue,l as Ge,w as H,m as be,p as He,z as Ye,k as Ce,c as Y,b as ke,G as Qe,q as Xe,n as Je,A as Ze,x as ve}from"./index.B0FfbRil.js";import{c as Re}from"./events.BMfxwV7f.js";import{d as we,u as xe}from"./action.Dt0HBUX2.js";import{g as $e,a as et}from"./rovingFocus.CtbSquO4.js";import{g as tt}from"./portal.vB7B65qR.js";import{m as it,n as nt,o as ot,p as lt,q as st,r as rt,t as Q}from"./menu-content.7-4fAeUg.js";import{c as ut,r as at,g as ft}from"./updater.Dth1Bj6g.js";import{g as dt}from"./helpers.D6aCnl9l.js";const ct={arrowSize:8,positioning:{placement:"bottom-start"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,disableFocusFirstItem:!0,closeFocus:void 0,closeOnItemClick:!0,onOutsideClick:void 0},{name:Oe,selector:_t}=He("context-menu");function mt(e){const t={...ct,...e},i=ze(Ue(t,"ids")),{positioning:o,closeOnOutsideClick:l,portal:c,forceVisible:u,closeOnEscape:a,loop:s}=i,r=t.open??ae(t.defaultOpen),n=Ge(r,t==null?void 0:t.onOpenChange),f=ae(null),b=H.writable(null),T=H.writable(null),{elements:S,builders:A,ids:v,options:E,helpers:h,states:q}=it({rootOpen:n,rootOptions:i,rootActiveTrigger:H(f),nextFocusable:H(b),prevFocusable:H(T),selector:"context-menu",removeScroll:!0,ids:t.ids}),{handleTypeaheadSearch:C}=h,K=ae(null),L=H(pe([K],([g])=>g===null?null:{getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...g})})),_=H.writable(0);function z(g){var D;if((D=i.onOutsideClick.get())==null||D(g),g.defaultPrevented)return!1;const k=g.target;return k instanceof Element?!!(!(k.closest(`[data-id="${v.trigger.get()}"]`)!==null)||gt(g)):!1}const O=we({open:n,forceVisible:u,activeTrigger:f}),ie=be(Oe(),{stores:[O,c,v.menu,v.trigger],returned:([g,k,W,D])=>({role:"menu",hidden:g?void 0:!0,style:ve({display:g?void 0:"none"}),id:W,"aria-labelledby":D,"data-state":g?"open":"closed","data-portal":Ze(k),tabindex:-1}),action:g=>{let k=Je;const W=Ye([O,f,o,l,c,a],([m,U,G,oe,te,d])=>{k(),!(!m||!U)&&We().then(()=>{k(),nt(g,_t);const ge=L.get();k=xe(g,{anchorElement:ge||U,open:n,options:{floating:G,modal:{closeOnInteractOutside:oe,onClose:()=>{n.set(!1)},shouldCloseOnInteractOutside:z,open:m},portal:tt(g,te),escapeKeydown:d?void 0:null}}).destroy})}),D=Ce(Y(g,"keydown",m=>{const U=m.target,G=m.currentTarget;if(!ke(U)||!ke(G)||!(U.closest("[role='menu']")===G))return;if(Qe.includes(m.key)&&ot(m,s.get()),m.key===Xe.TAB){m.preventDefault(),n.set(!1),lt(m,b,T);return}const te=m.key.length===1;!(m.ctrlKey||m.altKey||m.metaKey)&&te&&C(m.key,st(G))}));return{destroy(){W(),D(),k()}}}}),ne=be(Oe("trigger"),{stores:[n,v.trigger],returned:([g,k])=>({"data-state":g?"open":"closed",id:k,style:ve({WebkitTouchCallout:"none"}),"data-id":k}),action:g=>{rt(g);const k=m=>{K.set({x:m.clientX,y:m.clientY}),b.set($e(g)),T.set(et(g)),f.set(g),n.set(!0)},W=()=>{Q(_)},D=Ce(Y(g,"contextmenu",m=>{Q(_),k(m),m.preventDefault()}),Y(g,"pointerdown",m=>{le(m)&&(Q(_),_.set(window.setTimeout(()=>k(m),700)))}),Y(g,"pointermove",m=>{le(m)&&Q(_)}),Y(g,"pointercancel",m=>{le(m)&&Q(_)}),Y(g,"pointerup",m=>{le(m)&&Q(_)}));return{destroy(){W(),D()}}}});return{ids:v,elements:{...S,menu:ie,trigger:ne},states:q,builders:A,options:E}}function le(e){return e.pointerType!=="mouse"}function gt(e){return"button"in e?e.button===0&&e.ctrlKey===!1&&e.metaKey===!1:!0}function Le(){return{NAME:"menu",PARTS:["arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","separator","sub-content","sub-trigger","trigger"]}}function ht(e){const{NAME:t,PARTS:i}=Le(),o=ut("menu",i),l={...mt(at(e)),getAttrs:o};return je(t,l),{...l,updateOption:ft(l.options)}}function me(){const{NAME:e}=Le();return qe(e)}function bt(e){const i={...{side:"bottom",align:"start"},...e},{options:{positioning:o}}=me();dt(o)(i)}const Ct=e=>({ids:e&1}),ye=e=>({ids:e[0]});function kt(e){let t;const i=e[16].default,o=B(i,e,e[15],ye);return{c(){o&&o.c()},l(l){o&&o.l(l)},m(l,c){o&&o.m(l,c),t=!0},p(l,[c]){o&&o.p&&(!t||c&32769)&&N(o,i,l,l[15],t?R(i,l[15],c,Ct):p(l[15]),ye)},i(l){t||(F(o,l),t=!0)},o(l){I(o,l),t=!1},d(l){o&&o.d(l)}}}function vt(e,t,i){let o,{$$slots:l={},$$scope:c}=t,{closeOnOutsideClick:u=void 0}=t,{closeOnEscape:a=void 0}=t,{portal:s=void 0}=t,{open:r=void 0}=t,{onOpenChange:n=void 0}=t,{preventScroll:f=void 0}=t,{loop:b=void 0}=t,{dir:T=void 0}=t,{typeahead:S=void 0}=t,{closeFocus:A=void 0}=t,{disableFocusFirstItem:v=void 0}=t,{onOutsideClick:E=void 0}=t,{closeOnItemClick:h=void 0}=t;const{states:{open:q},updateOption:C,ids:K}=ht({closeOnOutsideClick:u,closeOnEscape:a,portal:s,forceVisible:!0,defaultOpen:r,preventScroll:f,loop:b,dir:T,typeahead:S,disableFocusFirstItem:v,closeFocus:A,onOutsideClick:E,closeOnItemClick:h,onOpenChange:({next:_})=>(r!==_&&(n==null||n(_),i(2,r=_)),_)}),L=pe([K.menu,K.trigger],([_,z])=>({menu:_,trigger:z}));return se(e,L,_=>i(0,o=_)),e.$$set=_=>{"closeOnOutsideClick"in _&&i(3,u=_.closeOnOutsideClick),"closeOnEscape"in _&&i(4,a=_.closeOnEscape),"portal"in _&&i(5,s=_.portal),"open"in _&&i(2,r=_.open),"onOpenChange"in _&&i(6,n=_.onOpenChange),"preventScroll"in _&&i(7,f=_.preventScroll),"loop"in _&&i(8,b=_.loop),"dir"in _&&i(9,T=_.dir),"typeahead"in _&&i(10,S=_.typeahead),"closeFocus"in _&&i(11,A=_.closeFocus),"disableFocusFirstItem"in _&&i(12,v=_.disableFocusFirstItem),"onOutsideClick"in _&&i(13,E=_.onOutsideClick),"closeOnItemClick"in _&&i(14,h=_.closeOnItemClick),"$$scope"in _&&i(15,c=_.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&r!==void 0&&q.set(r),e.$$.dirty&16384&&C("closeOnItemClick",h),e.$$.dirty&8&&C("closeOnOutsideClick",u),e.$$.dirty&16&&C("closeOnEscape",a),e.$$.dirty&32&&C("portal",s),e.$$.dirty&128&&C("preventScroll",f),e.$$.dirty&256&&C("loop",b),e.$$.dirty&512&&C("dir",T),e.$$.dirty&2048&&C("closeFocus",A),e.$$.dirty&4096&&C("disableFocusFirstItem",v),e.$$.dirty&1024&&C("typeahead",S),e.$$.dirty&8192&&C("onOutsideClick",E)},[o,L,r,u,a,s,n,f,b,T,S,A,v,E,h,c,l]}class $t extends ce{constructor(t){super(),_e(this,t,vt,kt,fe,{closeOnOutsideClick:3,closeOnEscape:4,portal:5,open:2,onOpenChange:6,preventScroll:7,loop:8,dir:9,typeahead:10,closeFocus:11,disableFocusFirstItem:12,onOutsideClick:13,closeOnItemClick:14})}}const Ot=e=>({builder:e[0]&256}),Te=e=>({builder:e[8]}),yt=e=>({builder:e[0]&256}),Ee=e=>({builder:e[8]}),Tt=e=>({builder:e[0]&256}),Ie=e=>({builder:e[8]}),Et=e=>({builder:e[0]&256}),Fe=e=>({builder:e[8]}),It=e=>({builder:e[0]&256}),Pe=e=>({builder:e[8]}),Ft=e=>({builder:e[0]&256}),Se=e=>({builder:e[8]});function Pt(e){let t,i,o,l;const c=e[24].default,u=B(c,e,e[23],Te);let a=[e[8],e[13]],s={};for(let r=0;r<a.length;r+=1)s=V(s,a[r]);return{c(){t=$("div"),u&&u.c(),this.h()},l(r){t=w(r,"DIV",{});var n=x(t);u&&u.l(n),n.forEach(y),this.h()},h(){P(t,s)},m(r,n){j(r,t,n),u&&u.m(t,null),e[29](t),i=!0,o||(l=[Z(e[8].action(t)),M(t,"m-keydown",e[12])],o=!0)},p(r,n){u&&u.p&&(!i||n[0]&8388864)&&N(u,c,r,r[23],i?R(c,r[23],n,Ot):p(r[23]),Te),P(t,s=ee(a,[n[0]&256&&r[8],n[0]&8192&&r[13]]))},i(r){i||(F(u,r),i=!0)},o(r){I(u,r),i=!1},d(r){r&&y(t),u&&u.d(r),e[29](null),o=!1,J(l)}}}function St(e){let t,i,o,l,c;const u=e[24].default,a=B(u,e,e[23],Ee);let s=[e[8],e[13]],r={};for(let n=0;n<s.length;n+=1)r=V(r,s[n]);return{c(){t=$("div"),a&&a.c(),this.h()},l(n){t=w(n,"DIV",{});var f=x(t);a&&a.l(f),f.forEach(y),this.h()},h(){P(t,r)},m(n,f){j(n,t,f),a&&a.m(t,null),e[28](t),o=!0,l||(c=[Z(e[8].action(t)),M(t,"m-keydown",e[12])],l=!0)},p(n,f){e=n,a&&a.p&&(!o||f[0]&8388864)&&N(a,u,e,e[23],o?R(u,e[23],f,yt):p(e[23]),Ee),P(t,r=ee(s,[f[0]&256&&e[8],f[0]&8192&&e[13]]))},i(n){o||(F(a,n),i&&i.end(1),o=!0)},o(n){I(a,n),n&&(i=Ve(t,e[5],e[6])),o=!1},d(n){n&&y(t),a&&a.d(n),e[28](null),n&&i&&i.end(),l=!1,J(c)}}}function At(e){let t,i,o,l,c;const u=e[24].default,a=B(u,e,e[23],Ie);let s=[e[8],e[13]],r={};for(let n=0;n<s.length;n+=1)r=V(r,s[n]);return{c(){t=$("div"),a&&a.c(),this.h()},l(n){t=w(n,"DIV",{});var f=x(t);a&&a.l(f),f.forEach(y),this.h()},h(){P(t,r)},m(n,f){j(n,t,f),a&&a.m(t,null),e[27](t),o=!0,l||(c=[Z(e[8].action(t)),M(t,"m-keydown",e[12])],l=!0)},p(n,f){e=n,a&&a.p&&(!o||f[0]&8388864)&&N(a,u,e,e[23],o?R(u,e[23],f,Tt):p(e[23]),Ie),P(t,r=ee(s,[f[0]&256&&e[8],f[0]&8192&&e[13]]))},i(n){o||(F(a,n),n&&(i||de(()=>{i=Ne(t,e[3],e[4]),i.start()})),o=!0)},o(n){I(a,n),o=!1},d(n){n&&y(t),a&&a.d(n),e[27](null),l=!1,J(c)}}}function Dt(e){let t,i,o,l,c,u;const a=e[24].default,s=B(a,e,e[23],Fe);let r=[e[8],e[13]],n={};for(let f=0;f<r.length;f+=1)n=V(n,r[f]);return{c(){t=$("div"),s&&s.c(),this.h()},l(f){t=w(f,"DIV",{});var b=x(t);s&&s.l(b),b.forEach(y),this.h()},h(){P(t,n)},m(f,b){j(f,t,b),s&&s.m(t,null),e[26](t),l=!0,c||(u=[Z(e[8].action(t)),M(t,"m-keydown",e[12])],c=!0)},p(f,b){e=f,s&&s.p&&(!l||b[0]&8388864)&&N(s,a,e,e[23],l?R(a,e[23],b,Et):p(e[23]),Fe),P(t,n=ee(r,[b[0]&256&&e[8],b[0]&8192&&e[13]]))},i(f){l||(F(s,f),f&&de(()=>{l&&(o&&o.end(1),i=Ne(t,e[3],e[4]),i.start())}),l=!0)},o(f){I(s,f),i&&i.invalidate(),f&&(o=Ve(t,e[5],e[6])),l=!1},d(f){f&&y(t),s&&s.d(f),e[26](null),f&&o&&o.end(),c=!1,J(u)}}}function Mt(e){let t,i,o,l,c;const u=e[24].default,a=B(u,e,e[23],Pe);let s=[e[8],e[13]],r={};for(let n=0;n<s.length;n+=1)r=V(r,s[n]);return{c(){t=$("div"),a&&a.c(),this.h()},l(n){t=w(n,"DIV",{});var f=x(t);a&&a.l(f),f.forEach(y),this.h()},h(){P(t,r)},m(n,f){j(n,t,f),a&&a.m(t,null),e[25](t),o=!0,l||(c=[Z(e[8].action(t)),M(t,"m-keydown",e[12])],l=!0)},p(n,f){e=n,a&&a.p&&(!o||f[0]&8388864)&&N(a,u,e,e[23],o?R(u,e[23],f,It):p(e[23]),Pe),P(t,r=ee(s,[f[0]&256&&e[8],f[0]&8192&&e[13]]))},i(n){o||(F(a,n),n&&de(()=>{o&&(i||(i=he(t,e[1],e[2],!0)),i.run(1))}),o=!0)},o(n){I(a,n),n&&(i||(i=he(t,e[1],e[2],!1)),i.run(0)),o=!1},d(n){n&&y(t),a&&a.d(n),e[25](null),n&&i&&i.end(),l=!1,J(c)}}}function Vt(e){let t;const i=e[24].default,o=B(i,e,e[23],Se);return{c(){o&&o.c()},l(l){o&&o.l(l)},m(l,c){o&&o.m(l,c),t=!0},p(l,c){o&&o.p&&(!t||c[0]&8388864)&&N(o,i,l,l[23],t?R(i,l[23],c,Ft):p(l[23]),Se)},i(l){t||(F(o,l),t=!0)},o(l){I(o,l),t=!1},d(l){o&&o.d(l)}}}function Kt(e){let t,i,o,l;const c=[Vt,Mt,Dt,At,St,Pt],u=[];function a(s,r){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(t=a(e))&&(i=u[t]=c[t](e)),{c(){i&&i.c(),o=re()},l(s){i&&i.l(s),o=re()},m(s,r){~t&&u[t].m(s,r),j(s,o,r),l=!0},p(s,r){let n=t;t=a(s),t===n?~t&&u[t].p(s,r):(i&&(Ke(),I(u[n],1,1,()=>{u[n]=null}),Be()),~t?(i=u[t],i?i.p(s,r):(i=u[t]=c[t](s),i.c()),F(i,1),i.m(o.parentNode,o)):i=null)},i(s){l||(F(i),l=!0)},o(s){I(i),l=!1},d(s){s&&y(o),~t&&u[t].d(s)}}}function Bt(e,t,i){let o;const l=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","fitViewport","strategy","overlap","el"];let c=ue(t,l),u,a,{$$slots:s={},$$scope:r}=t,{transition:n=void 0}=t,{transitionConfig:f=void 0}=t,{inTransition:b=void 0}=t,{inTransitionConfig:T=void 0}=t,{outTransition:S=void 0}=t,{outTransitionConfig:A=void 0}=t,{asChild:v=!1}=t,{id:E=void 0}=t,{alignOffset:h=0}=t,{collisionPadding:q=8}=t,{avoidCollisions:C=!0}=t,{collisionBoundary:K=void 0}=t,{fitViewport:L=!1}=t,{strategy:_="absolute"}=t,{overlap:z=!1}=t,{el:O=void 0}=t;const{elements:{menu:ie},states:{open:ne},ids:g,getAttrs:k}=me();se(e,ie,d=>i(22,u=d)),se(e,ne,d=>i(9,a=d));const W=Re(),D=k("content");function m(d){X[d?"unshift":"push"](()=>{O=d,i(0,O)})}function U(d){X[d?"unshift":"push"](()=>{O=d,i(0,O)})}function G(d){X[d?"unshift":"push"](()=>{O=d,i(0,O)})}function oe(d){X[d?"unshift":"push"](()=>{O=d,i(0,O)})}function te(d){X[d?"unshift":"push"](()=>{O=d,i(0,O)})}return e.$$set=d=>{t=V(V({},t),Me(d)),i(13,c=ue(t,l)),"transition"in d&&i(1,n=d.transition),"transitionConfig"in d&&i(2,f=d.transitionConfig),"inTransition"in d&&i(3,b=d.inTransition),"inTransitionConfig"in d&&i(4,T=d.inTransitionConfig),"outTransition"in d&&i(5,S=d.outTransition),"outTransitionConfig"in d&&i(6,A=d.outTransitionConfig),"asChild"in d&&i(7,v=d.asChild),"id"in d&&i(14,E=d.id),"alignOffset"in d&&i(15,h=d.alignOffset),"collisionPadding"in d&&i(16,q=d.collisionPadding),"avoidCollisions"in d&&i(17,C=d.avoidCollisions),"collisionBoundary"in d&&i(18,K=d.collisionBoundary),"fitViewport"in d&&i(19,L=d.fitViewport),"strategy"in d&&i(20,_=d.strategy),"overlap"in d&&i(21,z=d.overlap),"el"in d&&i(0,O=d.el),"$$scope"in d&&i(23,r=d.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&16384&&E&&g.menu.set(E),e.$$.dirty[0]&4194304&&i(8,o=u),e.$$.dirty[0]&256&&Object.assign(o,D),e.$$.dirty[0]&4161536&&bt({alignOffset:h,collisionPadding:q,avoidCollisions:C,collisionBoundary:K,fitViewport:L,strategy:_,overlap:z})},[O,n,f,b,T,S,A,v,o,a,ie,ne,W,c,E,h,q,C,K,L,_,z,u,r,s,m,U,G,oe,te]}class ei extends ce{constructor(t){super(),_e(this,t,Bt,Kt,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,alignOffset:15,collisionPadding:16,avoidCollisions:17,collisionBoundary:18,fitViewport:19,strategy:20,overlap:21,el:0},null,[-1,-1])}}const Nt=e=>({builder:e&4}),Ae=e=>({builder:e[2]}),pt=e=>({builder:e&4}),De=e=>({builder:e[2]});function Rt(e){let t,i,o,l;const c=e[9].default,u=B(c,e,e[8],Ae);let a=[e[2],e[5]],s={};for(let r=0;r<a.length;r+=1)s=V(s,a[r]);return{c(){t=$("div"),u&&u.c(),this.h()},l(r){t=w(r,"DIV",{});var n=x(t);u&&u.l(n),n.forEach(y),this.h()},h(){P(t,s)},m(r,n){j(r,t,n),u&&u.m(t,null),e[10](t),i=!0,o||(l=[Z(e[2].action(t)),M(t,"m-contextmenu",e[4]),M(t,"m-pointercancel",e[4]),M(t,"m-pointerdown",e[4]),M(t,"m-pointermove",e[4]),M(t,"m-pointerup",e[4])],o=!0)},p(r,n){u&&u.p&&(!i||n&260)&&N(u,c,r,r[8],i?R(c,r[8],n,Nt):p(r[8]),Ae),P(t,s=ee(a,[n&4&&r[2],n&32&&r[5]]))},i(r){i||(F(u,r),i=!0)},o(r){I(u,r),i=!1},d(r){r&&y(t),u&&u.d(r),e[10](null),o=!1,J(l)}}}function Lt(e){let t;const i=e[9].default,o=B(i,e,e[8],De);return{c(){o&&o.c()},l(l){o&&o.l(l)},m(l,c){o&&o.m(l,c),t=!0},p(l,c){o&&o.p&&(!t||c&260)&&N(o,i,l,l[8],t?R(i,l[8],c,pt):p(l[8]),De)},i(l){t||(F(o,l),t=!0)},o(l){I(o,l),t=!1},d(l){o&&o.d(l)}}}function Wt(e){let t,i,o,l;const c=[Lt,Rt],u=[];function a(s,r){return s[1]?0:1}return t=a(e),i=u[t]=c[t](e),{c(){i.c(),o=re()},l(s){i.l(s),o=re()},m(s,r){u[t].m(s,r),j(s,o,r),l=!0},p(s,[r]){let n=t;t=a(s),t===n?u[t].p(s,r):(Ke(),I(u[n],1,1,()=>{u[n]=null}),Be(),i=u[t],i?i.p(s,r):(i=u[t]=c[t](s),i.c()),F(i,1),i.m(o.parentNode,o))},i(s){l||(F(i),l=!0)},o(s){I(i),l=!1},d(s){s&&y(o),u[t].d(s)}}}function jt(e,t,i){let o;const l=["asChild","id","el"];let c=ue(t,l),u,{$$slots:a={},$$scope:s}=t,{asChild:r=!1}=t,{id:n=void 0}=t,{el:f=void 0}=t;const{elements:{trigger:b},ids:T,getAttrs:S}=me();se(e,b,h=>i(7,u=h));const A=Re(),v=S("trigger");function E(h){X[h?"unshift":"push"](()=>{f=h,i(0,f)})}return e.$$set=h=>{t=V(V({},t),Me(h)),i(5,c=ue(t,l)),"asChild"in h&&i(1,r=h.asChild),"id"in h&&i(6,n=h.id),"el"in h&&i(0,f=h.el),"$$scope"in h&&i(8,s=h.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&n&&T.trigger.set(n),e.$$.dirty&128&&i(2,o=u),e.$$.dirty&4&&Object.assign(o,v)},[f,r,o,b,A,c,n,u,s,a,E]}class ti extends ce{constructor(t){super(),_e(this,t,jt,Wt,fe,{asChild:1,id:6,el:0})}}export{ei as C,$t as a,ti as b};
