import{Q as Ut,ad as Kt,s as ht,l as rt,u as it,m as at,o as ut,z as U,d as K,A as X,i as J,W as _t,c as gt,e as kt,h as pt,P as Y,D as Q,k as ot,E as yt,T as Ct,n as lt,w as jt,C as qt}from"./scheduler.D_DiFEDa.js";import{S as At,i as Vt,t as B,a as L,g as Et,f as Rt}from"./index.uqldPLAT.js";import{g as Ot}from"./spread.CgU5AtxT.js";import{t as Ft,o as Gt,l as Xt,w as tt,y as Yt,m as Pt,p as Qt,H as Tt,x as ct,r as ft,c as Jt,b as dt,I as bt,q as W,z as Mt,d as Zt,k as vt,D as et}from"./index.9B820uFl.js";import{w as st,d as wt}from"./index.BUY9SMGD.js";import{s as mt}from"./math.BpeAD72X.js";import{c as xt,r as $t,g as te}from"./updater.Dth1Bj6g.js";import{c as ee}from"./events.BMfxwV7f.js";const se={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:nt}=Qt("slider"),ne=s=>{const t={...se,...s},e=Ft(Gt(t,"value","onValueChange","defaultValue")),{min:n,max:o,step:u,orientation:l,dir:_,disabled:i}=e,a=t.value??st(t.defaultValue),d=Xt(a,t==null?void 0:t.onValueChange),P=tt(st(!1)),M=tt(st(0)),N=tt(st(null)),D=Yt(["root"]),c=(b,f)=>{d.update(h=>{if(!h)return[b];if(h[f]===b)return h;const g=[...h],k=g[f]>b?-1:1;function r(){g[f]=g[f+k],g[f+k]=b;const O=z();O&&(O[f+k].focus(),N.set({thumb:O[f+k],index:f+k}))}if(k===-1&&b<g[f-1])return r(),g;if(k===1&&b>g[f+1])return r(),g;const A=n.get(),y=o.get(),E=u.get();return g[f]=mt(b,A,y,E),g})},z=()=>{const b=bt(D.root);return b?Array.from(b.querySelectorAll('[data-melt-part="thumb"]')).filter(f=>dt(f)):null},j=wt([n,o],([b,f])=>h=>(h-b)/(f-b)*100),q=tt.derived([l,_],([b,f])=>b==="horizontal"?f==="rtl"?"rl":"lr":f==="rtl"?"tb":"bt"),F=Pt(nt(),{stores:[i,l,_],returned:([b,f,h])=>({dir:h,disabled:ft(b),"data-disabled":ft(b),"data-orientation":f,style:b?void 0:`touch-action: ${f==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":D.root})}),v=Pt(nt("range"),{stores:[d,q,j],returned:([b,f,h])=>{const g=b.length>1?h(Math.min(...b)??0):0,k=100-h(Math.max(...b)??0),r={position:"absolute"};switch(f){case"lr":{r.left=`${g}%`,r.right=`${k}%`;break}case"rl":{r.right=`${g}%`,r.left=`${k}%`;break}case"bt":{r.bottom=`${g}%`,r.top=`${k}%`;break}case"tb":{r.top=`${g}%`,r.bottom=`${k}%`;break}}return{style:ct(r)}}}),w=Tt(nt("thumb"),{stores:[d,j,n,o,i,l,q],returned:([b,f,h,g,k,r,A])=>Array.from({length:b.length||1},(E,O)=>{M.get()<b.length&&M.update(C=>C+1);const V=b[O],p=`${f(V)}%`,m={position:"absolute"};switch(A){case"lr":{m.left=p,m.translate="-50% 0";break}case"rl":{m.right=p,m.translate="50% 0";break}case"bt":{m.bottom=p,m.translate="0 50%";break}case"tb":{m.top=p,m.translate="0 -50%";break}}return{role:"slider","aria-valuemin":h,"aria-valuemax":g,"aria-valuenow":V,"aria-disabled":ft(k),"aria-orientation":r,"data-melt-part":"thumb","data-value":V,style:ct(m),tabindex:k?-1:0}}),action:b=>({destroy:Jt(b,"keydown",h=>{if(i.get())return;const g=h.currentTarget;if(!dt(g))return;const k=z();if(!(k!=null&&k.length))return;const r=k.indexOf(g);if(M.set(r),![W.ARROW_LEFT,W.ARROW_RIGHT,W.ARROW_UP,W.ARROW_DOWN,W.HOME,W.END].includes(h.key))return;h.preventDefault();const A=n.get(),y=o.get(),E=u.get(),O=d.get(),G=l.get(),V=q.get(),p=O[r];switch(h.key){case W.HOME:{c(A,r);break}case W.END:{c(y,r);break}case W.ARROW_LEFT:{if(G!=="horizontal")break;h.metaKey?c(V==="rl"?y:A,r):V==="rl"&&p<y?c(p+E,r):V==="lr"&&p>A&&c(p-E,r);break}case W.ARROW_RIGHT:{if(G!=="horizontal")break;h.metaKey?c(V==="rl"?A:y,r):V==="rl"&&p>A?c(p-E,r):V==="lr"&&p<y&&c(p+E,r);break}case W.ARROW_UP:{h.metaKey?c(V==="tb"?A:y,r):V==="tb"&&p>A?c(p-E,r):V!=="tb"&&p<y&&c(p+E,r);break}case W.ARROW_DOWN:{h.metaKey?c(V==="tb"?y:A,r):V==="tb"&&p<y?c(p+E,r):V!=="tb"&&p>A&&c(p-E,r);break}}})})}),x=Tt(nt("tick"),{stores:[d,n,o,u,q],returned:([b,f,h,g,k])=>{const r=h-f;let A=Math.ceil(r/g);return r%g==0&&A++,Array.from({length:A},(y,E)=>{const O=`${E*(g/(h-f))*100}%`,G=E===0,V=E===A-1,p=G?0:V?-100:-50,m={position:"absolute"};switch(k){case"lr":{m.left=O,m.translate=`${p}% 0`;break}case"rl":{m.right=O,m.translate=`${-p}% 0`;break}case"bt":{m.bottom=O,m.translate=`0 ${-p}%`;break}case"tb":{m.top=O,m.translate=`0 ${p}%`;break}}const C=f+E*g;return{"data-bounded":(b.length===1?C<=b[0]:b[0]<=C&&C<=b[b.length-1])?!0:void 0,"data-value":C,style:ct(m)}})}});return Mt([F,n,o,i,l,q,u],([b,f,h,g,k,r,A])=>{if(!Zt||g)return;const y=(m,C,R,H)=>{const T=(m-R)/(H-R)*(h-f)+f;if(T<f)c(f,C);else if(T>h)c(h,C);else{const S=A,I=f,$=Math.floor((T-I)/S),Lt=I+$*S+S/2,It=I+($+1)*S+S/2,St=T>=Lt&&T<It?($+1)*S+I:$*S+I;St<=h&&c(St,C)}},E=m=>{const C=z();if(!C)return;C.forEach(T=>T.blur());const R=C.map(T=>{if(k==="horizontal"){const{left:S,right:I}=T.getBoundingClientRect();return Math.abs(m.clientX-(S+I)/2)}else{const{top:S,bottom:I}=T.getBoundingClientRect();return Math.abs(m.clientY-(S+I)/2)}}),H=C[R.indexOf(Math.min(...R))],Z=C.indexOf(H);return{thumb:H,index:Z}},O=m=>{if(!P.get())return;m.preventDefault(),m.stopPropagation();const C=bt(b["data-melt-id"]),R=N.get();if(!C||!R)return;R.thumb.focus();const{left:H,right:Z,top:T,bottom:S}=C.getBoundingClientRect();switch(r){case"lr":{y(m.clientX,R.index,H,Z);break}case"rl":{y(m.clientX,R.index,Z,H);break}case"bt":{y(m.clientY,R.index,S,T);break}case"tb":{y(m.clientY,R.index,T,S);break}}},G=m=>{if(m.button!==0)return;const C=bt(b["data-melt-id"]),R=E(m);if(!R||!C)return;const H=m.target;!dt(H)||!C.contains(H)||(m.preventDefault(),N.set(R),R.thumb.focus(),P.set(!0),O(m))},V=()=>{P.set(!1)},p=vt(et(document,"pointerdown",G),et(document,"pointerup",V),et(document,"pointerleave",V),et(document,"pointermove",O));return()=>{p()}}),Mt([u,n,o,d],function([f,h,g,k]){const r=y=>mt(y,h,g,f)===y,A=y=>mt(y,h,g,f);k.some(y=>!r(y))&&d.update(y=>y.map(A))}),{elements:{root:F,thumbs:w,range:v,ticks:x},states:{value:d},options:e}};function Ht(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function oe(s){const{NAME:t,PARTS:e}=Ht(),n=xt(t,e),o={...ne($t(s)),getAttrs:n};return Kt(t,o),{...o,updateOption:te(o.options)}}function Bt(){const{NAME:s}=Ht();return Ut(s)}const le=s=>({builder:s&4,ticks:s&8,thumbs:s&16}),Nt=s=>({builder:s[2],ticks:s[3],thumbs:s[4]}),re=s=>({builder:s&4,ticks:s&8,thumbs:s&16}),Wt=s=>({builder:s[2],ticks:s[3],thumbs:s[4]});function ie(s){let t,e,n,o;const u=s[18].default,l=rt(u,s,s[17],Nt);let _=[s[2],s[8]],i={};for(let a=0;a<_.length;a+=1)i=U(i,_[a]);return{c(){t=pt("span"),l&&l.c(),this.h()},l(a){t=gt(a,"SPAN",{});var d=kt(t);l&&l.l(d),d.forEach(K),this.h()},h(){X(t,i)},m(a,d){J(a,t,d),l&&l.m(t,null),s[19](t),e=!0,n||(o=_t(s[2].action(t)),n=!0)},p(a,d){l&&l.p&&(!e||d&131100)&&it(l,u,a,a[17],e?ut(u,a[17],d,le):at(a[17]),Nt),X(t,i=Ot(_,[d&4&&a[2],d&256&&a[8]]))},i(a){e||(L(l,a),e=!0)},o(a){B(l,a),e=!1},d(a){a&&K(t),l&&l.d(a),s[19](null),n=!1,o()}}}function ae(s){let t;const e=s[18].default,n=rt(e,s,s[17],Wt);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,u){n&&n.m(o,u),t=!0},p(o,u){n&&n.p&&(!t||u&131100)&&it(n,e,o,o[17],t?ut(e,o[17],u,re):at(o[17]),Wt)},i(o){t||(L(n,o),t=!0)},o(o){B(n,o),t=!1},d(o){n&&n.d(o)}}}function ue(s){let t,e,n,o;const u=[ae,ie],l=[];function _(i,a){return i[1]?0:1}return t=_(s),e=l[t]=u[t](s),{c(){e.c(),n=Y()},l(i){e.l(i),n=Y()},m(i,a){l[t].m(i,a),J(i,n,a),o=!0},p(i,[a]){let d=t;t=_(i),t===d?l[t].p(i,a):(Et(),B(l[d],1,1,()=>{l[d]=null}),Rt(),e=l[t],e?e.p(i,a):(e=l[t]=u[t](i),e.c()),L(e,1),e.m(n.parentNode,n))},i(i){o||(L(e),o=!0)},o(i){B(e),o=!1},d(i){i&&K(n),l[t].d(i)}}}function ce(s,t,e){let n;const o=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let u=Q(t,o),l,_,i,{$$slots:a={},$$scope:d}=t,{disabled:P=void 0}=t,{min:M=void 0}=t,{max:N=void 0}=t,{step:D=void 0}=t,{orientation:c=void 0}=t,{value:z=void 0}=t,{onValueChange:j=void 0}=t,{asChild:q=!1}=t,{el:F=void 0}=t;const{elements:{root:v,ticks:w,thumbs:x},states:{value:b},updateOption:f,getAttrs:h}=oe({disabled:P,min:M,max:N,step:D,orientation:c,defaultValue:z,onValueChange:({next:r})=>(z!==r&&(j==null||j(r),e(9,z=r)),r)});ot(s,v,r=>e(16,l=r)),ot(s,w,r=>e(3,_=r)),ot(s,x,r=>e(4,i=r));const g=h("root");function k(r){Ct[r?"unshift":"push"](()=>{F=r,e(0,F)})}return s.$$set=r=>{t=U(U({},t),yt(r)),e(8,u=Q(t,o)),"disabled"in r&&e(10,P=r.disabled),"min"in r&&e(11,M=r.min),"max"in r&&e(12,N=r.max),"step"in r&&e(13,D=r.step),"orientation"in r&&e(14,c=r.orientation),"value"in r&&e(9,z=r.value),"onValueChange"in r&&e(15,j=r.onValueChange),"asChild"in r&&e(1,q=r.asChild),"el"in r&&e(0,F=r.el),"$$scope"in r&&e(17,d=r.$$scope)},s.$$.update=()=>{s.$$.dirty&512&&z!==void 0&&b.set(z),s.$$.dirty&1024&&f("disabled",P),s.$$.dirty&2048&&f("min",M),s.$$.dirty&4096&&f("max",N),s.$$.dirty&8192&&f("step",D),s.$$.dirty&16384&&f("orientation",c),s.$$.dirty&65536&&e(2,n=l),s.$$.dirty&4&&Object.assign(n,g)},[F,q,n,_,i,v,w,x,u,z,P,M,N,D,c,j,l,d,a,k]}class Te extends At{constructor(t){super(),Vt(this,t,ce,ue,ht,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}}const fe=s=>({builder:s&4}),Dt=s=>({builder:s[2]});function de(s){let t,e,n,o=[s[2],s[4]],u={};for(let l=0;l<o.length;l+=1)u=U(u,o[l]);return{c(){t=pt("span"),this.h()},l(l){t=gt(l,"SPAN",{}),kt(t).forEach(K),this.h()},h(){X(t,u)},m(l,_){J(l,t,_),s[8](t),e||(n=_t(s[2].action(t)),e=!0)},p(l,_){X(t,u=Ot(o,[_&4&&l[2],_&16&&l[4]]))},i:lt,o:lt,d(l){l&&K(t),s[8](null),e=!1,n()}}}function be(s){let t;const e=s[7].default,n=rt(e,s,s[6],Dt);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,u){n&&n.m(o,u),t=!0},p(o,u){n&&n.p&&(!t||u&68)&&it(n,e,o,o[6],t?ut(e,o[6],u,fe):at(o[6]),Dt)},i(o){t||(L(n,o),t=!0)},o(o){B(n,o),t=!1},d(o){n&&n.d(o)}}}function me(s){let t,e,n,o;const u=[be,de],l=[];function _(i,a){return i[1]?0:1}return t=_(s),e=l[t]=u[t](s),{c(){e.c(),n=Y()},l(i){e.l(i),n=Y()},m(i,a){l[t].m(i,a),J(i,n,a),o=!0},p(i,[a]){let d=t;t=_(i),t===d?l[t].p(i,a):(Et(),B(l[d],1,1,()=>{l[d]=null}),Rt(),e=l[t],e?e.p(i,a):(e=l[t]=u[t](i),e.c()),L(e,1),e.m(n.parentNode,n))},i(i){o||(L(e),o=!0)},o(i){B(e),o=!1},d(i){i&&K(n),l[t].d(i)}}}function he(s,t,e){let n;const o=["asChild","el"];let u=Q(t,o),l,{$$slots:_={},$$scope:i}=t,{asChild:a=!1}=t,{el:d=void 0}=t;const{elements:{range:P},getAttrs:M}=Bt();ot(s,P,c=>e(5,l=c));const N=M("range");function D(c){Ct[c?"unshift":"push"](()=>{d=c,e(0,d)})}return s.$$set=c=>{t=U(U({},t),yt(c)),e(4,u=Q(t,o)),"asChild"in c&&e(1,a=c.asChild),"el"in c&&e(0,d=c.el),"$$scope"in c&&e(6,i=c.$$scope)},s.$$.update=()=>{s.$$.dirty&32&&e(2,n=l),s.$$.dirty&4&&Object.assign(n,N)},[d,a,n,P,u,l,i,_,D]}class Me extends At{constructor(t){super(),Vt(this,t,he,me,ht,{asChild:1,el:0})}}const _e=s=>({builder:s&4}),zt=s=>({builder:s[2]});function ge(s){let t,e,n,o=[s[2],s[4]],u={};for(let l=0;l<o.length;l+=1)u=U(u,o[l]);return{c(){t=pt("span"),this.h()},l(l){t=gt(l,"SPAN",{}),kt(t).forEach(K),this.h()},h(){X(t,u)},m(l,_){J(l,t,_),s[8](t),e||(n=[_t(s[2].action(t)),qt(t,"m-keydown",s[3])],e=!0)},p(l,_){X(t,u=Ot(o,[_&4&&l[2],_&16&&l[4]]))},i:lt,o:lt,d(l){l&&K(t),s[8](null),e=!1,jt(n)}}}function ke(s){let t;const e=s[7].default,n=rt(e,s,s[6],zt);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,u){n&&n.m(o,u),t=!0},p(o,u){n&&n.p&&(!t||u&68)&&it(n,e,o,o[6],t?ut(e,o[6],u,_e):at(o[6]),zt)},i(o){t||(L(n,o),t=!0)},o(o){B(n,o),t=!1},d(o){n&&n.d(o)}}}function pe(s){let t,e,n,o;const u=[ke,ge],l=[];function _(i,a){return i[1]?0:1}return t=_(s),e=l[t]=u[t](s),{c(){e.c(),n=Y()},l(i){e.l(i),n=Y()},m(i,a){l[t].m(i,a),J(i,n,a),o=!0},p(i,[a]){let d=t;t=_(i),t===d?l[t].p(i,a):(Et(),B(l[d],1,1,()=>{l[d]=null}),Rt(),e=l[t],e?e.p(i,a):(e=l[t]=u[t](i),e.c()),L(e,1),e.m(n.parentNode,n))},i(i){o||(L(e),o=!0)},o(i){B(e),o=!1},d(i){i&&K(n),l[t].d(i)}}}function ye(s,t,e){let n;const o=["asChild","el","thumb"];let u=Q(t,o),{$$slots:l={},$$scope:_}=t,{asChild:i=!1}=t,{el:a=void 0}=t,{thumb:d}=t;const{getAttrs:P}=Bt(),M=ee(),N=P("thumb");function D(c){Ct[c?"unshift":"push"](()=>{a=c,e(0,a)})}return s.$$set=c=>{t=U(U({},t),yt(c)),e(4,u=Q(t,o)),"asChild"in c&&e(1,i=c.asChild),"el"in c&&e(0,a=c.el),"thumb"in c&&e(5,d=c.thumb),"$$scope"in c&&e(6,_=c.$$scope)},s.$$.update=()=>{s.$$.dirty&32&&e(2,n=d),s.$$.dirty&4&&Object.assign(n,N)},[a,i,n,M,u,d,_,l,D]}class Ne extends At{constructor(t){super(),Vt(this,t,ye,pe,ht,{asChild:1,el:0,thumb:5})}}export{Me as S,Ne as a,Te as b};
