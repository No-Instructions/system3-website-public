const L={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function b(y={}){let t,n,r,i=!1,s=!0,f=!1,d=0,c=0;function v(e,m){n=e;const{mergeOptions:u,optionsAtMedia:O}=m,F=u(L,b.globalOptions),h=u(F,y);if(t=O(h),n.scrollSnapList().length<=1)return;f=t.jump,r=!1;const{eventStore:l,ownerDocument:g}=n.internalEngine(),x=n.rootNode(),p=t.rootNode&&t.rootNode(x)||x;n.on("pointerDown",a),t.stopOnInteraction||n.on("pointerUp",o),t.stopOnMouseEnter&&(l.add(p,"mouseenter",()=>{s=!1,a()}),t.stopOnInteraction||l.add(p,"mouseleave",()=>{s=!0,o()})),t.stopOnFocusIn&&(l.add(p,"focusin",a),t.stopOnInteraction||l.add(p,"focusout",o)),l.add(g,"visibilitychange",()=>{if(g.visibilityState==="hidden")return s=i,a();s&&o()}),t.playOnInit&&n.on("init",o).on("reInit",o)}function w(){r=!0,i=!1,n.off("init",o).off("reInit",o),n.off("pointerDown",a),t.stopOnInteraction||n.off("pointerUp",o),a(),cancelAnimationFrame(d),d=0}function o(){if(r||!s)return;i||n.emit("autoplay:play");const{ownerWindow:e}=n.internalEngine();e.clearInterval(c),c=e.setInterval(N,t.delay),i=!0}function a(){if(r)return;i&&n.emit("autoplay:stop");const{ownerWindow:e}=n.internalEngine();e.clearInterval(c),c=0,i=!1}function I(e){typeof e<"u"&&(f=e),s=!0,o()}function S(){i&&a()}function A(){i&&I()}function E(){return i}function N(){d=requestAnimationFrame(()=>{const{index:e}=n.internalEngine(),m=e.clone().add(1).get(),u=n.scrollSnapList().length-1;t.stopOnLastSnap&&m===u&&a(),n.canScrollNext()?n.scrollNext(f):n.scrollTo(0,f)})}return{name:"autoplay",options:y,init:v,destroy:w,play:I,stop:S,reset:A,isPlaying:E}}b.globalOptions=void 0;export{b as A};
